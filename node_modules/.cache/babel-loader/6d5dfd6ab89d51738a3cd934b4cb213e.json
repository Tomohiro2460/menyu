{"ast":null,"code":"var _jsxFileName = \"/Users/nishimuratomohiro/Capstone2/capstone2/menyu/src/components/Layout/EditMenu.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react/cjs/react.development';\nimport Storage from '@aws-amplify/storage';\nimport API from '@aws-amplify/api';\nimport { graphqlOperation } from '@aws-amplify/api-graphql';\nimport { createCategory } from '../../graphql/mutations';\nimport { createItem } from '../../graphql/mutations';\nimport { deleteItem } from '../../graphql/mutations';\nimport { updateItem } from '../../graphql/mutations';\nimport image from '../../assets/images/delete.png';\nimport image2 from '../../assets/images/edit.png';\nimport image3 from '../../assets/images/hide.png';\nimport classes from './EditMenu.module.css';\nimport { v4 as uuid } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditMenu = props => {\n  _s();\n\n  // props = [bucket, region, restaurant, restaurantSetter]\n  //const [items, setItems] = useState(null);\n  const [categoryAdderOpened, setCategoryAdderOpened] = useState(false);\n  const [categoryName, setCategoryName] = useState('');\n  const [itemAdderOpened, setItemAdderOpened] = useState(false);\n  const [itemName, setItemName] = useState('');\n  const [itemDescription, setItemDescription] = useState('');\n  const [itemIngredients, setItemIngredients] = useState('');\n  const [itemPrice, setItemPrice] = useState('');\n  const [itemImage, setItemImage] = useState(null);\n  const [itemSpecialities, setItemSpecilities] = useState({\n    vege: false,\n    vegan: false,\n    halal: false,\n    featured: false,\n    hidden: false\n  });\n  const [currentCategory, setCurrentCategory] = useState(null);\n  const [deleteModalOpened, setDeleteModalOpened] = useState(false);\n  const [itemToBeDeleted, setItemToBeDeleted] = useState(null);\n  const [itemEditorOpened, setItemEditorOpened] = useState(false);\n  const [itemToBeEditted, setItemToBeEditted] = useState(null);\n  const [loadingMessage, setLoadingMessage] = useState(null);\n  const [qrCodeViewerOpened, setQRCodeViewerOpened] = useState(false);\n  const qrCodeURLBase = 'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=';\n  console.log('rendering EditMenu');\n\n  const AddCategoryHandler = () => {\n    setCategoryAdderOpened(true);\n  };\n\n  const onAddCategoryConfirm = async () => {\n    console.log('from onAddCategoryConfirm');\n\n    if (categoryName === '') {\n      return;\n    }\n\n    const inputData = {\n      restaurantID: props.restaurant.id,\n      name: categoryName\n    };\n\n    try {\n      const newCategoryData = await API.graphql(graphqlOperation(createCategory, {\n        input: inputData\n      }));\n      const newCategory = newCategoryData.data.createCategory;\n      let newCategories = props.restaurant.categories.items;\n\n      if (newCategories) {\n        console.log('current category', newCategories);\n        console.log('categories with items');\n        newCategories.push(newCategory);\n        console.log('updated category', newCategories);\n      } else {\n        console.log('categories empty');\n        newCategories = [newCategory];\n      }\n\n      props.restaurantSetter(prevRestaurant => {\n        let newRestaurant = prevRestaurant;\n        newRestaurant.categories.items = newCategories;\n        return newRestaurant;\n      });\n      console.log('from onAddCategoryConfirm success');\n    } catch (err) {\n      console.log('error creating category:', err);\n    }\n\n    setCategoryAdderOpened(false);\n  };\n\n  const onAddCategoryCancel = () => {\n    setCategoryAdderOpened(false);\n  };\n\n  const AddMenuHandler = () => {\n    setItemAdderOpened(true);\n  };\n\n  const onAddItemConfirm = async () => {\n    console.log('onAddItemConfirm');\n\n    if (itemName === '' || !itemImage || itemPrice === '') {\n      return;\n    }\n\n    const extension = itemImage.name.split(\".\")[1];\n    const {\n      type: mimeType\n    } = itemImage;\n    const key = `${uuid()}${itemName}.${extension}`;\n    const url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n    const inputData = {\n      categoryID: currentCategory.id,\n      name: itemName,\n      description: itemDescription,\n      ingredients: itemIngredients,\n      price: itemPrice,\n      image: url,\n      vegan: itemSpecialities.vegan,\n      vege: itemSpecialities.vege,\n      halal: itemSpecialities.halal,\n      featured: itemSpecialities.featured,\n      hidden: itemSpecialities.hidden\n    };\n\n    try {\n      // s3 update\n      await Storage.put(key, itemImage, {\n        contentType: mimeType\n      }); // api update\n\n      const newItemData = await API.graphql(graphqlOperation(createItem, {\n        input: inputData\n      }));\n      console.log('from onAddItemConfirm: newItemData : ', newItemData);\n      const newItem = newItemData.data.createItem;\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id === currentCategory.id);\n        let updatedCategory = prevRestaurant.categories.items[categoryIndex];\n\n        if (!updatedCategory.items) {\n          updatedCategory = { ...updatedCategory,\n            items: {\n              items: []\n            }\n          };\n        }\n\n        prevRestaurant.categories.items[categoryIndex] = updatedCategory;\n        prevRestaurant.categories.items[categoryIndex].items.items.push(newItem);\n        return prevRestaurant;\n      });\n    } catch (err) {\n      console.log('error creating items:', err);\n    }\n\n    setItemAdderOpened(false);\n    setItemName('');\n    setItemDescription('');\n    setItemIngredients('');\n    setItemImage(null);\n    setItemSpecilities({\n      vege: false,\n      vegan: false,\n      halal: false,\n      featured: false,\n      hidden: false\n    });\n    setCategoryAdderOpened(false);\n  };\n\n  const onAddItemCancel = () => {\n    setItemAdderOpened(false);\n    setItemName('');\n    setItemDescription('');\n    setItemIngredients('');\n    setItemImage(null);\n    setItemSpecilities({\n      vege: false,\n      vegan: false,\n      halal: false,\n      featured: false,\n      hidden: false\n    });\n  };\n\n  const onDeleteButtonClicked = item => {\n    setDeleteModalOpened(true);\n    setItemToBeDeleted(item);\n  };\n\n  const onDeleteItemCanceled = () => {\n    setDeleteModalOpened(false);\n    setItemToBeDeleted(null);\n  };\n\n  const onDeleteItemConfirmed = async () => {\n    try {\n      //s3 update\n      const deletedKey = itemToBeDeleted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n      await Storage.remove(deletedKey); //api update\n\n      const inputData = {\n        id: itemToBeDeleted.id\n      };\n      await API.graphql(graphqlOperation(deleteItem, {\n        input: inputData\n      })); //restaurant update\n\n      await props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeDeleted.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeDeleted.id);\n        console.log('deleting item index:', itemIndex);\n        prevRestaurant.categories.items[categoryIndex].items.items.splice(itemIndex, 1);\n        return prevRestaurant;\n      });\n      console.log('from onItemDeleted', props.restaurant);\n    } catch (err) {\n      console.log('error deleting item', err);\n    }\n\n    setDeleteModalOpened(false);\n    setItemToBeDeleted(null);\n  };\n\n  const onEditItemButtonClicked = item => {\n    setItemEditorOpened(true);\n    setItemToBeEditted(item);\n  };\n\n  const onEditItemCanceled = () => {\n    setItemEditorOpened(false);\n    setItemToBeEditted(null);\n  };\n\n  const onEditItemConfirmed = async () => {\n    console.log('onEditItemConfirmed start');\n\n    try {\n      //s3 update\n      let url = itemToBeEditted.image;\n      console.log('onEditItemConfirmed 1');\n\n      if (itemImage) {\n        //1. s3 delete\n        console.log('onEditItemConfirmed 2');\n        const deletedKey = itemToBeEditted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n        await Storage.remove(deletedKey); //2. s3 upload\n\n        console.log('onEditItemConfirmed 3');\n        const extension = itemImage.name.split(\".\")[1];\n        const {\n          type: mimeType\n        } = itemImage;\n        const key = `${uuid()}${itemToBeEditted.name}.${extension}`;\n        url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n        await Storage.put(key, itemImage, {\n          contentType: mimeType\n        });\n      }\n\n      console.log('onEditItemConfirmed 4'); //api update\n\n      const inputData = {\n        id: itemToBeEditted.id,\n        name: itemToBeEditted.name,\n        description: itemToBeEditted.description,\n        ingredients: itemToBeEditted.ingredients,\n        price: itemToBeEditted.price,\n        image: url,\n        vegan: itemToBeEditted.vegan,\n        vege: itemToBeEditted.vege,\n        halal: itemToBeEditted.halal,\n        featured: itemToBeEditted.featured,\n        hidden: itemToBeEditted.hidden\n      };\n      const updatedItemData = await API.graphql(graphqlOperation(updateItem, {\n        input: inputData\n      }));\n      const updatedItem = updatedItemData.data.updateItem;\n      console.log('onEditItemConfirmed 5'); //restaurant update\n\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeEditted.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeEditted.id);\n        console.log('deleting item index:', itemIndex);\n        prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n        return prevRestaurant;\n      });\n      console.log('onEditItemConfirmed 5');\n    } catch (err) {\n      console.log('error onEditItemConfirmed:', err);\n    }\n\n    setItemEditorOpened(false);\n    setItemToBeEditted(null);\n  };\n\n  const onHideButtonClicked = async item => {\n    console.log('from onHideButtonClicked: ', item);\n    setLoadingMessage('hiding from Menu...');\n    await changeItemVisibility(item, true);\n  };\n\n  const onRevealButtonClicked = async item => {\n    console.log('from onRevealButtonClicked: ', item);\n    setLoadingMessage('revealing to Menu ...');\n    await changeItemVisibility(item, false);\n  };\n\n  const changeItemVisibility = async (item, hidden) => {\n    try {\n      const inputData = {\n        id: item.id,\n        hidden: hidden\n      };\n      const updatedItemData = await API.graphql(graphqlOperation(updateItem, {\n        input: inputData\n      }));\n      const updatedItem = updatedItemData.data.updateItem; //restaurant update\n\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == item.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === item.id);\n        prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n        return prevRestaurant;\n      });\n    } catch (err) {\n      console.log('error toggling hidden: ', err);\n    }\n\n    setLoadingMessage(null);\n  };\n\n  const onQRCodeRequested = () => {\n    setQRCodeViewerOpened(true);\n  };\n\n  const onQRCodeClosed = () => {\n    setQRCodeViewerOpened(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.editMenu,\n    children: [loadingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.backdrop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loading,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: loadingMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 17\n    }, this), qrCodeViewerOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.backdrop,\n        onClick: onQRCodeClosed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.qrCodeContainer,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: qrCodeURLBase + 'new-feature.d1ac5hakempkoy.amplifyapp.com' + props.restaurant.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.mainText,\n        children: \"Your Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.editArea,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.categoryArea,\n          children: [categoryAdderOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.backdrop,\n              onClick: onAddCategoryCancel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.editorContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.editorText,\n                children: \"Category Name: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.editorInputArea,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: classes.editorInput,\n                  type: \"text\",\n                  onChange: e => {\n                    setCategoryName(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: classes.editorConfirmButton,\n                  onClick: onAddCategoryConfirm,\n                  children: \"Confirm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: classes.editorCancelButton,\n                  onClick: onAddCategoryCancel,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.Ctext,\n            children: \"Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.Citems,\n            children: props.restaurant.categories.items && (props.restaurant.categories.items.length > 0 ? props.restaurant.categories.items.map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.eachItem,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: classes.button,\n                onClick: () => setCurrentCategory({\n                  id: category.id,\n                  name: category.name\n                }),\n                children: category.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 45\n              }, this)\n            }, category.id ? category.id : index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 41\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Add Your Restaurant Menu Category!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.buttonSection,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: classes.Cbutton,\n              onClick: AddCategoryHandler,\n              children: \"+ Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, this), deleteModalOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.backdrop,\n            onClick: onDeleteItemCanceled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.deleteModalContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.editorDeleteText,\n              children: \"Do you want to delete this?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: classes.editorYesButton,\n              onClick: onDeleteItemConfirmed,\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: classes.editorNoButton,\n              onClick: onDeleteItemCanceled,\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }, this), itemEditorOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.backdrop,\n            onClick: onEditItemCanceled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.editorEditContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: classes.editorEditText,\n              children: \"Edit an Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.editorEditArea,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.editorEditInput,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorInput,\n                  children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: classes.editorEditName,\n                    type: \"text\",\n                    placeholder: itemToBeEditted.name,\n                    onChange: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          name: e.target.value\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 84\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorInput2,\n                  children: [\"Description: \", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: classes.editorEditDescription,\n                    type: \"text\",\n                    placeholder: itemToBeEditted.description,\n                    onChange: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          description: e.target.value\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 92\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorInput2,\n                  children: [\"Ingredients: \", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: classes.editorEditIngredients,\n                    type: \"text\",\n                    placeholder: itemToBeEditted.ingredients,\n                    onChange: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          ingredients: e.target.value\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 92\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.editorEditButtons,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorInput,\n                  children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: classes.editorEditPrice,\n                    type: \"text\",\n                    placeholder: itemToBeEditted.price,\n                    onChange: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          price: e.target.value\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 85\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorInput,\n                  children: [\"Image: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: classes.editorEditImage,\n                    type: \"file\",\n                    onChange: e => {\n                      setItemImage(e.target.files[0]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 85\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorCheckBox,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: \"vege\",\n                    checked: itemToBeEditted.vege,\n                    onClick: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          vege: e.target.checked\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"vege\",\n                    children: \" vegetarian\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorCheckBox,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: \"vegan\",\n                    checked: itemToBeEditted.vegan,\n                    onClick: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          vegan: e.target.checked\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"vegan\",\n                    children: \" vegan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorCheckBox,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: \"halal\",\n                    checked: itemToBeEditted.halal,\n                    onClick: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          halal: e.target.checked\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"halal\",\n                    children: \" halal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorCheckBox,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: \"featured\",\n                    checked: itemToBeEditted.featured,\n                    onClick: e => {\n                      setItemToBeEditted(prev => {\n                        return { ...prev,\n                          featured: e.target.checked\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"featured\",\n                    children: \" featured\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: classes.editorSaveButton,\n                    onClick: onEditItemConfirmed,\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: classes.editorCancelButton,\n                    onClick: onEditItemCanceled,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          size: \"1\",\n          color: \"#6B2200\",\n          className: classes.line\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.currentCategoryArea,\n          children: currentCategory ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.itemContent,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.Itext,\n                children: \" Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.itemArea,\n                children: props.restaurant.categories.items.filter(category => {\n                  return category.id === currentCategory.id;\n                }).map((category, index) => {\n                  return category.items.items.map((item, index) => {\n                    if (!item.hidden) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.itemlist,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: classes.itemDescription,\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: classes.itemImage1,\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: classes.itemImage,\n                              src: item.image\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 444,\n                              columnNumber: 73\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 443,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: classes.itemName1,\n                            children: /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: classes.itemName,\n                              children: item.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 447,\n                              columnNumber: 73\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 446,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 442,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: classes.itemButtons,\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: classes.itemButton,\n                            onClick: () => onDeleteButtonClicked(item),\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: classes.buttonImage,\n                              src: image\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 451,\n                              columnNumber: 152\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 451,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: classes.itemButton,\n                            onClick: () => onEditItemButtonClicked(item),\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: classes.buttonImage,\n                              src: image2\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 452,\n                              columnNumber: 154\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 452,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: classes.itemButton,\n                            onClick: async () => await onHideButtonClicked(item),\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: classes.buttonImage,\n                              src: image3\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 453,\n                              columnNumber: 161\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 453,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 450,\n                          columnNumber: 65\n                        }, this)]\n                      }, item.id ? item.id : index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 61\n                      }, this);\n                    }\n                  });\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: props.restaurant.categories.items.filter(category => {\n                  return category.id === currentCategory.id;\n                }).map((category, index) => {\n                  return category.items.items.map((item, index) => {\n                    if (item.hidden) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: item.image\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 471,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 472,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => onDeleteButtonClicked(item),\n                          children: \"delete\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 473,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => onEditItemButtonClicked(item),\n                          children: \"edit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 474,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: async () => await onRevealButtonClicked(item),\n                          children: \"reveal to menu\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 475,\n                          columnNumber: 65\n                        }, this)]\n                      }, item.id ? item.id : index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 470,\n                        columnNumber: 61\n                      }, this);\n                    }\n                  });\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 37\n              }, this), itemAdderOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.backdrop,\n                  onClick: onAddItemCancel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.editorEditContainer,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: classes.editorEditText,\n                    children: \" Add a new Item \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: classes.editorEditArea,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: classes.editorEditInput,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.editorInput,\n                        children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: classes.editorEditName,\n                          type: \"text\",\n                          onChange: e => {\n                            setItemName(e.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 490,\n                          columnNumber: 100\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.editorInput2,\n                        children: [\"Description: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: classes.editorEditDescription,\n                          type: \"text\",\n                          onChange: e => {\n                            setItemDescription(e.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 491,\n                          columnNumber: 108\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.editorInput2,\n                        children: [\"Ingredients: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: classes.editorEditIngredients,\n                          type: \"text\",\n                          onChange: e => {\n                            setItemIngredients(e.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 492,\n                          columnNumber: 108\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: classes.editorEditButtons,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.editorInput,\n                        children: [\"price: $\", /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: classes.editorEditPrice,\n                          type: \"text\",\n                          onChange: e => {\n                            setItemPrice(e.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 495,\n                          columnNumber: 102\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.editorInput,\n                        children: [\"Image: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: classes.editorEditImage,\n                          type: \"file\",\n                          onChange: e => {\n                            setItemImage(e.target.files[0]);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 496,\n                          columnNumber: 101\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          id: \"vege\",\n                          onClick: e => {\n                            setItemSpecilities(prev => {\n                              return { ...prev,\n                                vege: e.target.checked\n                              };\n                            });\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 498,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          for: \"vege\",\n                          children: \"vegetarian\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 501,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 497,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          id: \"vegan\",\n                          onClick: e => {\n                            setItemSpecilities(prev => {\n                              return { ...prev,\n                                vegan: e.target.checked\n                              };\n                            });\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 504,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          for: \"vegan\",\n                          children: \"vegan\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          id: \"halal\",\n                          onClick: e => {\n                            setItemSpecilities(prev => {\n                              return { ...prev,\n                                halal: e.target.checked\n                              };\n                            });\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 510,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          for: \"halal\",\n                          children: \"halal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 513,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          id: \"featured\",\n                          onClick: e => {\n                            setItemSpecilities(prev => {\n                              return { ...prev,\n                                featured: e.target.checked\n                              };\n                            });\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 516,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          for: \"featured\",\n                          children: \"featured\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 519,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 515,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: onAddItemConfirm,\n                        children: \"Save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 521,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: onAddItemCancel,\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: classes.addButton,\n                onClick: AddMenuHandler,\n                children: \"+ Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"choose category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditMenu, \"6LLUIRy5oa7R1ZmnhTUlVQGVMHw=\");\n\n_c = EditMenu;\nexport default EditMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMenu\");","map":{"version":3,"sources":["/Users/nishimuratomohiro/Capstone2/capstone2/menyu/src/components/Layout/EditMenu.js"],"names":["React","useEffect","useState","Storage","API","graphqlOperation","createCategory","createItem","deleteItem","updateItem","image","image2","image3","classes","v4","uuid","EditMenu","props","categoryAdderOpened","setCategoryAdderOpened","categoryName","setCategoryName","itemAdderOpened","setItemAdderOpened","itemName","setItemName","itemDescription","setItemDescription","itemIngredients","setItemIngredients","itemPrice","setItemPrice","itemImage","setItemImage","itemSpecialities","setItemSpecilities","vege","vegan","halal","featured","hidden","currentCategory","setCurrentCategory","deleteModalOpened","setDeleteModalOpened","itemToBeDeleted","setItemToBeDeleted","itemEditorOpened","setItemEditorOpened","itemToBeEditted","setItemToBeEditted","loadingMessage","setLoadingMessage","qrCodeViewerOpened","setQRCodeViewerOpened","qrCodeURLBase","console","log","AddCategoryHandler","onAddCategoryConfirm","inputData","restaurantID","restaurant","id","name","newCategoryData","graphql","input","newCategory","data","newCategories","categories","items","push","restaurantSetter","prevRestaurant","newRestaurant","err","onAddCategoryCancel","AddMenuHandler","onAddItemConfirm","extension","split","type","mimeType","key","url","bucket","region","categoryID","description","ingredients","price","put","contentType","newItemData","newItem","categoryIndex","findIndex","obj","updatedCategory","onAddItemCancel","onDeleteButtonClicked","item","onDeleteItemCanceled","onDeleteItemConfirmed","deletedKey","replace","remove","itemIndex","splice","onEditItemButtonClicked","onEditItemCanceled","onEditItemConfirmed","updatedItemData","updatedItem","onHideButtonClicked","changeItemVisibility","onRevealButtonClicked","onQRCodeRequested","onQRCodeClosed","editMenu","backdrop","loading","qrCodeContainer","content","mainText","editArea","categoryArea","editorContainer","editorText","editorInputArea","editorInput","e","target","value","editorConfirmButton","editorCancelButton","Ctext","Citems","length","map","category","index","eachItem","button","buttonSection","Cbutton","deleteModalContainer","editorDeleteText","editorYesButton","editorNoButton","editorEditContainer","editorEditText","editorEditArea","editorEditInput","editorEditName","prev","editorInput2","editorEditDescription","editorEditIngredients","editorEditButtons","editorEditPrice","editorEditImage","files","editorCheckBox","checked","editorSaveButton","line","currentCategoryArea","itemContent","Itext","itemArea","filter","itemlist","itemImage1","itemName1","itemButtons","itemButton","buttonImage","addButton"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,6BAApC;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AAEA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAAA;;AACxB;AACA;AAEA,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDjB,QAAQ,CAAC,KAAD,CAA9D;AACA,QAAM,CAACkB,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAM,CAACoB,eAAD,EAAkBC,kBAAlB,IAAwCrB,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACsB,QAAD,EAAWC,WAAX,IAA0BvB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACwB,eAAD,EAAkBC,kBAAlB,IAAwCzB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAAC0B,eAAD,EAAkBC,kBAAlB,IAAwC3B,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAAC4B,SAAD,EAAYC,YAAZ,IAA4B7B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC8B,SAAD,EAAYC,YAAZ,IAA4B/B,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACgC,gBAAD,EAAmBC,kBAAnB,IACDjC,QAAQ,CAAC;AAACkC,IAAAA,IAAI,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE,KAArB;AAA4BC,IAAAA,KAAK,EAAE,KAAnC;AAA0CC,IAAAA,QAAQ,EAAE,KAApD;AAA2DC,IAAAA,MAAM,EAAE;AAAnE,GAAD,CADb;AAGA,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCxC,QAAQ,CAAC,IAAD,CAAtD;AAEA,QAAM,CAACyC,iBAAD,EAAoBC,oBAApB,IAA4C1C,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM,CAAC2C,eAAD,EAAkBC,kBAAlB,IAAwC5C,QAAQ,CAAC,IAAD,CAAtD;AAEA,QAAM,CAAC6C,gBAAD,EAAmBC,mBAAnB,IAA0C9C,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM,CAAC+C,eAAD,EAAkBC,kBAAlB,IAAwChD,QAAQ,CAAC,IAAD,CAAtD;AAEA,QAAM,CAACiD,cAAD,EAAiBC,iBAAjB,IAAsClD,QAAQ,CAAC,IAAD,CAApD;AAEA,QAAM,CAACmD,kBAAD,EAAqBC,qBAArB,IAA8CpD,QAAQ,CAAC,KAAD,CAA5D;AAEA,QAAMqD,aAAa,GAAG,gEAAtB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;;AAEA,QAAMC,kBAAkB,GAAG,MAAM;AAC7BvC,IAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACH,GAFD;;AAIA,QAAMwC,oBAAoB,GAAG,YAAW;AACpCH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;;AACA,QAAIrC,YAAY,KAAK,EAArB,EAAyB;AACrB;AACH;;AAED,UAAMwC,SAAS,GAAG;AAAEC,MAAAA,YAAY,EAAE5C,KAAK,CAAC6C,UAAN,CAAiBC,EAAjC;AAAqCC,MAAAA,IAAI,EAAE5C;AAA3C,KAAlB;;AACA,QAAI;AACA,YAAM6C,eAAe,GAAG,MAAM7D,GAAG,CAAC8D,OAAJ,CAAY7D,gBAAgB,CAACC,cAAD,EAAiB;AAAE6D,QAAAA,KAAK,EAAEP;AAAT,OAAjB,CAA5B,CAA9B;AACA,YAAMQ,WAAW,GAAGH,eAAe,CAACI,IAAhB,CAAqB/D,cAAzC;AAEA,UAAIgE,aAAa,GAAGrD,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAAhD;;AACA,UAAIF,aAAJ,EAAmB;AACfd,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCa,aAAhC;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAa,QAAAA,aAAa,CAACG,IAAd,CAAmBL,WAAnB;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCa,aAAhC;AACH,OALD,MAKO;AACHd,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAa,QAAAA,aAAa,GAAG,CAACF,WAAD,CAAhB;AACH;;AAEDnD,MAAAA,KAAK,CAACyD,gBAAN,CAAwBC,cAAD,IAAoB;AACvC,YAAIC,aAAa,GAAGD,cAApB;AACAC,QAAAA,aAAa,CAACL,UAAd,CAAyBC,KAAzB,GAAiCF,aAAjC;AACA,eAAOM,aAAP;AACH,OAJD;AAKApB,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACH,KArBD,CAqBE,OAAOoB,GAAP,EAAY;AACVrB,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCoB,GAAxC;AACH;;AAED1D,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACH,GAjCD;;AAmCA,QAAM2D,mBAAmB,GAAG,MAAM;AAC9B3D,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACH,GAFD;;AAIA,QAAM4D,cAAc,GAAG,MAAM;AACzBxD,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAFD;;AAIA,QAAMyD,gBAAgB,GAAG,YAAW;AAChCxB,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA,QAAIjC,QAAQ,KAAK,EAAb,IAAmB,CAACQ,SAApB,IAAiCF,SAAS,KAAK,EAAnD,EAAuD;AACnD;AACH;;AAED,UAAMmD,SAAS,GAAGjD,SAAS,CAACgC,IAAV,CAAekB,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAlB;AACA,UAAM;AAAEC,MAAAA,IAAI,EAAEC;AAAR,QAAqBpD,SAA3B;AACA,UAAMqD,GAAG,GAAI,GAAEtE,IAAI,EAAG,GAAES,QAAS,IAAGyD,SAAU,EAA9C;AACA,UAAMK,GAAG,GAAI,WAAUrE,KAAK,CAACsE,MAAO,OAAMtE,KAAK,CAACuE,MAAO,yBAAwBH,GAAI,EAAnF;AACA,UAAMzB,SAAS,GAAG;AAAE6B,MAAAA,UAAU,EAAEhD,eAAe,CAACsB,EAA9B;AACEC,MAAAA,IAAI,EAAExC,QADR;AAEEkE,MAAAA,WAAW,EAAEhE,eAFf;AAGEiE,MAAAA,WAAW,EAAE/D,eAHf;AAIEgE,MAAAA,KAAK,EAAE9D,SAJT;AAKEpB,MAAAA,KAAK,EAAE4E,GALT;AAMEjD,MAAAA,KAAK,EAAEH,gBAAgB,CAACG,KAN1B;AAOED,MAAAA,IAAI,EAAEF,gBAAgB,CAACE,IAPzB;AAQEE,MAAAA,KAAK,EAAEJ,gBAAgB,CAACI,KAR1B;AASEC,MAAAA,QAAQ,EAAEL,gBAAgB,CAACK,QAT7B;AAUEC,MAAAA,MAAM,EAAEN,gBAAgB,CAACM;AAV3B,KAAlB;;AAaA,QAAI;AACA;AACA,YAAMrC,OAAO,CAAC0F,GAAR,CAAYR,GAAZ,EAAiBrD,SAAjB,EAA4B;AAAC8D,QAAAA,WAAW,EAAEV;AAAd,OAA5B,CAAN,CAFA,CAGA;;AACA,YAAMW,WAAW,GAAG,MAAM3F,GAAG,CAAC8D,OAAJ,CAAY7D,gBAAgB,CAACE,UAAD,EAAa;AAAE4D,QAAAA,KAAK,EAAEP;AAAT,OAAb,CAA5B,CAA1B;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDsC,WAArD;AACA,YAAMC,OAAO,GAAGD,WAAW,CAAC1B,IAAZ,CAAiB9D,UAAjC;AAEAU,MAAAA,KAAK,CAACyD,gBAAN,CAAwBC,cAAD,IAAoB;AACvC,cAAMsB,aAAa,GAAGtB,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgC0B,SAAhC,CAA2CC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,KAAWtB,eAAe,CAACsB,EAA7E,CAAtB;AACA,YAAIqC,eAAe,GAAGzB,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,CAAtB;;AACA,YAAI,CAAEG,eAAe,CAAC5B,KAAtB,EAA8B;AAC1B4B,UAAAA,eAAe,GAAG,EAAE,GAAGA,eAAL;AAAsB5B,YAAAA,KAAK,EAAE;AAACA,cAAAA,KAAK,EAAE;AAAR;AAA7B,WAAlB;AACH;;AACDG,QAAAA,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,IAAiDG,eAAjD;AACAzB,QAAAA,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2DC,IAA3D,CAAgEuB,OAAhE;AACA,eAAOrB,cAAP;AACH,OATD;AAWH,KAnBD,CAmBE,OAAOE,GAAP,EAAY;AACVrB,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCoB,GAArC;AACH;;AAEDtD,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,IAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAE,IAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAI,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,kBAAkB,CAAC;AAACC,MAAAA,IAAI,EAAE,KAAP;AAAcC,MAAAA,KAAK,EAAE,KAArB;AAA4BC,MAAAA,KAAK,EAAE,KAAnC;AAA0CC,MAAAA,QAAQ,EAAE,KAApD;AAA2DC,MAAAA,MAAM,EAAE;AAAnE,KAAD,CAAlB;AACArB,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACH,GArDD;;AAuDA,QAAMkF,eAAe,GAAG,MAAM;AAC1B9E,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,IAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAE,IAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAI,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,kBAAkB,CAAC;AAACC,MAAAA,IAAI,EAAE,KAAP;AAAcC,MAAAA,KAAK,EAAE,KAArB;AAA4BC,MAAAA,KAAK,EAAE,KAAnC;AAA0CC,MAAAA,QAAQ,EAAE,KAApD;AAA2DC,MAAAA,MAAM,EAAE;AAAnE,KAAD,CAAlB;AACH,GAPD;;AASA,QAAM8D,qBAAqB,GAAIC,IAAD,IAAU;AACpC3D,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAE,IAAAA,kBAAkB,CAACyD,IAAD,CAAlB;AACH,GAHD;;AAKA,QAAMC,oBAAoB,GAAG,MAAM;AAC/B5D,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACAE,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAHD;;AAMA,QAAM2D,qBAAqB,GAAG,YAAW;AACrC,QAAI;AACA;AACA,YAAMC,UAAU,GAAG7D,eAAe,CAACnC,KAAhB,CAAsBiG,OAAtB,CAA+B,WAAU1F,KAAK,CAACsE,MAAO,OAAMtE,KAAK,CAACuE,MAAO,wBAAzE,EAAkG,EAAlG,CAAnB;AACA,YAAMrF,OAAO,CAACyG,MAAR,CAAeF,UAAf,CAAN,CAHA,CAIA;;AACA,YAAM9C,SAAS,GAAG;AAACG,QAAAA,EAAE,EAAElB,eAAe,CAACkB;AAArB,OAAlB;AACA,YAAM3D,GAAG,CAAC8D,OAAJ,CAAY7D,gBAAgB,CAACG,UAAD,EAAa;AAAE2D,QAAAA,KAAK,EAAEP;AAAT,OAAb,CAA5B,CAAN,CANA,CAOA;;AACA,YAAM3C,KAAK,CAACyD,gBAAN,CAAwBC,cAAD,IAAoB;AAC7C,cAAMsB,aAAa,GAAGtB,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgC0B,SAAhC,CAA0CC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,IAAUlB,eAAe,CAAC4C,UAA3E,CAAtB;AACA,cAAMoB,SAAS,GAAGlC,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2D0B,SAA3D,CAAqEC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,KAAWlB,eAAe,CAACkB,EAAvG,CAAlB;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCoD,SAApC;AACAlC,QAAAA,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2DsC,MAA3D,CAAkED,SAAlE,EAA6E,CAA7E;AACA,eAAOlC,cAAP;AACH,OANK,CAAN;AAQAnB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCxC,KAAK,CAAC6C,UAAxC;AACH,KAjBD,CAiBE,OAAMe,GAAN,EAAW;AACTrB,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCoB,GAAnC;AACH;;AACDjC,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACAE,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAvBD;;AAyBA,QAAMiE,uBAAuB,GAAIR,IAAD,IAAU;AACtCvD,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAE,IAAAA,kBAAkB,CAACqD,IAAD,CAAlB;AACH,GAHD;;AAKA,QAAMS,kBAAkB,GAAG,MAAM;AAC7BhE,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAE,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAHD;;AAKA,QAAM+D,mBAAmB,GAAG,YAAW;AACnCzD,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;;AACA,QAAI;AACA;AACA,UAAI6B,GAAG,GAAGrC,eAAe,CAACvC,KAA1B;AACA8C,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;;AACA,UAAIzB,SAAJ,EAAe;AACX;AACAwB,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,cAAMiD,UAAU,GAAGzD,eAAe,CAACvC,KAAhB,CAAsBiG,OAAtB,CAA+B,WAAU1F,KAAK,CAACsE,MAAO,OAAMtE,KAAK,CAACuE,MAAO,wBAAzE,EAAkG,EAAlG,CAAnB;AACA,cAAMrF,OAAO,CAACyG,MAAR,CAAeF,UAAf,CAAN,CAJW,CAKX;;AACAlD,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,cAAMwB,SAAS,GAAGjD,SAAS,CAACgC,IAAV,CAAekB,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAlB;AACA,cAAM;AAAEC,UAAAA,IAAI,EAAEC;AAAR,YAAqBpD,SAA3B;AACA,cAAMqD,GAAG,GAAI,GAAEtE,IAAI,EAAG,GAAEkC,eAAe,CAACe,IAAK,IAAGiB,SAAU,EAA1D;AACAK,QAAAA,GAAG,GAAI,WAAUrE,KAAK,CAACsE,MAAO,OAAMtE,KAAK,CAACuE,MAAO,yBAAwBH,GAAI,EAA7E;AACA,cAAMlF,OAAO,CAAC0F,GAAR,CAAYR,GAAZ,EAAiBrD,SAAjB,EAA4B;AAAC8D,UAAAA,WAAW,EAAEV;AAAd,SAA5B,CAAN;AACH;;AACD5B,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAjBA,CAkBA;;AACA,YAAMG,SAAS,GAAG;AACEG,QAAAA,EAAE,EAAEd,eAAe,CAACc,EADtB;AAEEC,QAAAA,IAAI,EAAEf,eAAe,CAACe,IAFxB;AAGE0B,QAAAA,WAAW,EAAEzC,eAAe,CAACyC,WAH/B;AAIEC,QAAAA,WAAW,EAAE1C,eAAe,CAAC0C,WAJ/B;AAKEC,QAAAA,KAAK,EAAE3C,eAAe,CAAC2C,KALzB;AAMElF,QAAAA,KAAK,EAAE4E,GANT;AAOEjD,QAAAA,KAAK,EAAEY,eAAe,CAACZ,KAPzB;AAQED,QAAAA,IAAI,EAAEa,eAAe,CAACb,IARxB;AASEE,QAAAA,KAAK,EAAEW,eAAe,CAACX,KATzB;AAUEC,QAAAA,QAAQ,EAAEU,eAAe,CAACV,QAV5B;AAWEC,QAAAA,MAAM,EAAES,eAAe,CAACT;AAX1B,OAAlB;AAaA,YAAM0E,eAAe,GAAG,MAAM9G,GAAG,CAAC8D,OAAJ,CAAY7D,gBAAgB,CAACI,UAAD,EAAa;AAAE0D,QAAAA,KAAK,EAAEP;AAAT,OAAb,CAA5B,CAA9B;AACA,YAAMuD,WAAW,GAAGD,eAAe,CAAC7C,IAAhB,CAAqB5D,UAAzC;AACA+C,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAlCA,CAmCA;;AACAxC,MAAAA,KAAK,CAACyD,gBAAN,CAAwBC,cAAD,IAAoB;AACvC,cAAMsB,aAAa,GAAGtB,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgC0B,SAAhC,CAA0CC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,IAAUd,eAAe,CAACwC,UAA3E,CAAtB;AACA,cAAMoB,SAAS,GAAGlC,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2D0B,SAA3D,CAAqEC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,KAAWd,eAAe,CAACc,EAAvG,CAAlB;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCoD,SAApC;AACAlC,QAAAA,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2DqC,SAA3D,IAAwEM,WAAxE;AACA,eAAOxC,cAAP;AACH,OAND;AAOAnB,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH,KA5CD,CA4CE,OAAMoB,GAAN,EAAW;AACTrB,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CoB,GAA1C;AACH;;AACD7B,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAE,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,GAnDD;;AAqDA,QAAMkE,mBAAmB,GAAG,MAAMb,IAAN,IAAe;AACvC/C,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C8C,IAA1C;AACAnD,IAAAA,iBAAiB,CAAC,qBAAD,CAAjB;AACA,UAAMiE,oBAAoB,CAACd,IAAD,EAAO,IAAP,CAA1B;AACH,GAJD;;AAMA,QAAMe,qBAAqB,GAAG,MAAMf,IAAN,IAAe;AACzC/C,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C8C,IAA5C;AACAnD,IAAAA,iBAAiB,CAAC,uBAAD,CAAjB;AACA,UAAMiE,oBAAoB,CAACd,IAAD,EAAO,KAAP,CAA1B;AACH,GAJD;;AAMA,QAAMc,oBAAoB,GAAG,OAAMd,IAAN,EAAY/D,MAAZ,KAAuB;AAChD,QAAI;AACA,YAAMoB,SAAS,GAAG;AACdG,QAAAA,EAAE,EAAEwC,IAAI,CAACxC,EADK;AAEdvB,QAAAA,MAAM,EAAEA;AAFM,OAAlB;AAIA,YAAM0E,eAAe,GAAG,MAAM9G,GAAG,CAAC8D,OAAJ,CAAY7D,gBAAgB,CAACI,UAAD,EAAa;AAAE0D,QAAAA,KAAK,EAAEP;AAAT,OAAb,CAA5B,CAA9B;AACA,YAAMuD,WAAW,GAAGD,eAAe,CAAC7C,IAAhB,CAAqB5D,UAAzC,CANA,CAOA;;AACAQ,MAAAA,KAAK,CAACyD,gBAAN,CAAwBC,cAAD,IAAoB;AACvC,cAAMsB,aAAa,GAAGtB,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgC0B,SAAhC,CAA0CC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,IAAUwC,IAAI,CAACd,UAAhE,CAAtB;AACA,cAAMoB,SAAS,GAAGlC,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2D0B,SAA3D,CAAqEC,GAAG,IAAIA,GAAG,CAACpC,EAAJ,KAAWwC,IAAI,CAACxC,EAA5F,CAAlB;AACAY,QAAAA,cAAc,CAACJ,UAAf,CAA0BC,KAA1B,CAAgCyB,aAAhC,EAA+CzB,KAA/C,CAAqDA,KAArD,CAA2DqC,SAA3D,IAAwEM,WAAxE;AACA,eAAOxC,cAAP;AACH,OALD;AAMH,KAdD,CAcE,OAAME,GAAN,EAAW;AACTrB,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCoB,GAAvC;AACH;;AACDzB,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH,GAnBD;;AAqBA,QAAMmE,iBAAiB,GAAG,MAAM;AAC5BjE,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACH,GAFD;;AAIA,QAAMkE,cAAc,GAAG,MAAM;AACzBlE,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACH,GAFD;;AAIA,sBACI;AAAK,IAAA,SAAS,EAAEzC,OAAO,CAAC4G,QAAxB;AAAA,eACKtE,cAAc,iBACX;AAAA,8BACI;AAAK,QAAA,SAAS,EAAEtC,OAAO,CAAC6G;AAAxB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAE7G,OAAO,CAAC8G,OAAxB;AAAA,+BACI;AAAA,oBAAIxE;AAAJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFR,EASKE,kBAAkB,iBACf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAExC,OAAO,CAAC6G,QAAxB;AAAkC,QAAA,OAAO,EAAEF;AAA3C;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAE3G,OAAO,CAAC+G,eAAxB;AAAA,+BACI;AAAK,UAAA,GAAG,EAAErE,aAAa,GAAG,2CAAhB,GAA8DtC,KAAK,CAAC6C,UAAN,CAAiBC;AAAzF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAVR,eAqBI;AAAK,MAAA,SAAS,EAAElD,OAAO,CAACgH,OAAxB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAEhH,OAAO,CAACiH,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAEjH,OAAO,CAACkH,QAAxB;AAAA,gCACI;AAAK,UAAA,SAAS,EAAElH,OAAO,CAACmH,YAAxB;AAAA,qBACK9G,mBAAmB,iBAChB;AAAA,oCACI;AAAK,cAAA,SAAS,EAAEL,OAAO,CAAC6G,QAAxB;AAAkC,cAAA,OAAO,EAAE5C;AAA3C;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAEjE,OAAO,CAACoH,eAAxB;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAEpH,OAAO,CAACqH,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAErH,OAAO,CAACsH,eAAxB;AAAA,wCACI;AAAO,kBAAA,SAAS,EAAEtH,OAAO,CAACuH,WAA1B;AAAuC,kBAAA,IAAI,EAAC,MAA5C;AAAmD,kBAAA,QAAQ,EAAGC,CAAD,IAAO;AAAChH,oBAAAA,eAAe,CAACgH,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAgC;AAArG;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAQ,kBAAA,SAAS,EAAE1H,OAAO,CAAC2H,mBAA3B;AAAgD,kBAAA,OAAO,EAAE7E,oBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAQ,kBAAA,SAAS,EAAE9C,OAAO,CAAC4H,kBAA3B;AAA+C,kBAAA,OAAO,EAAE3D,mBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFR,eAcI;AAAK,YAAA,SAAS,EAAEjE,OAAO,CAAC6H,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAiBI;AAAK,YAAA,SAAS,EAAE7H,OAAO,CAAC8H,MAAxB;AAAA,sBAEK1H,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAA7B,KACKvD,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAA5B,CAAkCoE,MAAlC,GAA2C,CAA5C,GACI3H,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAA5B,CAAkCqE,GAAlC,CAAsC,CAACC,QAAD,EAAWC,KAAX,kBAClC;AAAK,cAAA,SAAS,EAAElI,OAAO,CAACmI,QAAxB;AAAA,qCAEI;AAAQ,gBAAA,SAAS,EAAEnI,OAAO,CAACoI,MAA3B;AAAmC,gBAAA,OAAO,EAAE,MAAMvG,kBAAkB,CAAC;AAACqB,kBAAAA,EAAE,EAAE+E,QAAQ,CAAC/E,EAAd;AAAkBC,kBAAAA,IAAI,EAAE8E,QAAQ,CAAC9E;AAAjC,iBAAD,CAApE;AAAA,0BAA+G8E,QAAQ,CAAC9E;AAAxH;AAAA;AAAA;AAAA;AAAA;AAFJ,eAAuC8E,QAAQ,CAAC/E,EAAT,GAAc+E,QAAQ,CAAC/E,EAAvB,GAA4BgF,KAAnE;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ,gBASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVR;AAFJ;AAAA;AAAA;AAAA;AAAA,kBAjBJ,eAkCI;AAAK,YAAA,SAAS,EAAElI,OAAO,CAACqI,aAAxB;AAAA,mCACI;AAAQ,cAAA,SAAS,EAAErI,OAAO,CAACsI,OAA3B;AAAoC,cAAA,OAAO,EAAEzF,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAlCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAuCKf,iBAAiB,iBACd;AAAA,kCACI;AAAK,YAAA,SAAS,EAAE9B,OAAO,CAAC6G,QAAxB;AAAkC,YAAA,OAAO,EAAElB;AAA3C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAE3F,OAAO,CAACuI,oBAAxB;AAAA,oCACI;AAAK,cAAA,SAAS,EAAEvI,OAAO,CAACwI,gBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAS,cAAA,SAAS,EAAExI,OAAO,CAACyI,eAA5B;AAA6C,cAAA,OAAO,EAAE7C,qBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAQ,cAAA,SAAS,EAAE5F,OAAO,CAAC0I,cAA3B;AAA2C,cAAA,OAAO,EAAE/C,oBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxCR,EAiDKzD,gBAAgB,iBACb;AAAA,kCACI;AAAK,YAAA,SAAS,EAAElC,OAAO,CAAC6G,QAAxB;AAAkC,YAAA,OAAO,EAAEV;AAA3C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAEnG,OAAO,CAAC2I,mBAAxB;AAAA,oCACI;AAAG,cAAA,SAAS,EAAE3I,OAAO,CAAC4I,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAE5I,OAAO,CAAC6I,cAAxB;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAE7I,OAAO,CAAC8I,eAAxB;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAE9I,OAAO,CAACuH,WAAxB;AAAA,oDAA2C;AAAO,oBAAA,SAAS,EAAEvH,OAAO,CAAC+I,cAA1B;AAA0C,oBAAA,IAAI,EAAC,MAA/C;AAAsD,oBAAA,WAAW,EAAE3G,eAAe,CAACe,IAAnF;AAAyF,oBAAA,QAAQ,EAAGqE,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAU7F,0BAAAA,IAAI,EAAEqE,CAAC,CAACC,MAAF,CAASC;AAAzB,yBAAP;AAAuC,uBAAnD,CAAlB;AAAuE;AAAlL;AAAA;AAAA;AAAA;AAAA,0BAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAK,kBAAA,SAAS,EAAE1H,OAAO,CAACiJ,YAAxB;AAAA,2DAAmD;AAAU,oBAAA,SAAS,EAAEjJ,OAAO,CAACkJ,qBAA7B;AAAoD,oBAAA,IAAI,EAAC,MAAzD;AAAgE,oBAAA,WAAW,EAAE9G,eAAe,CAACyC,WAA7F;AAA0G,oBAAA,QAAQ,EAAG2C,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUnE,0BAAAA,WAAW,EAAE2C,CAAC,CAACC,MAAF,CAASC;AAAhC,yBAAP;AAA8C,uBAA1D,CAAlB;AAA8E;AAA1M;AAAA;AAAA;AAAA;AAAA,0BAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAK,kBAAA,SAAS,EAAE1H,OAAO,CAACiJ,YAAxB;AAAA,2DAAmD;AAAU,oBAAA,SAAS,EAAEjJ,OAAO,CAACmJ,qBAA7B;AAAoD,oBAAA,IAAI,EAAC,MAAzD;AAAgE,oBAAA,WAAW,EAAE/G,eAAe,CAAC0C,WAA7F;AAA0G,oBAAA,QAAQ,EAAG0C,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUlE,0BAAAA,WAAW,EAAE0C,CAAC,CAACC,MAAF,CAASC;AAAhC,yBAAP;AAA8C,uBAA1D,CAAlB;AAA8E;AAA1M;AAAA;AAAA;AAAA;AAAA,0BAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAQI;AAAK,gBAAA,SAAS,EAAE1H,OAAO,CAACoJ,iBAAxB;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAEpJ,OAAO,CAACuH,WAAxB;AAAA,qDAA4C;AAAO,oBAAA,SAAS,EAAEvH,OAAO,CAACqJ,eAA1B;AAA2C,oBAAA,IAAI,EAAC,MAAhD;AAAuD,oBAAA,WAAW,EAAEjH,eAAe,CAAC2C,KAApF;AAA2F,oBAAA,QAAQ,EAAGyC,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUjE,0BAAAA,KAAK,EAAEyC,CAAC,CAACC,MAAF,CAASC;AAA1B,yBAAP;AAAwC,uBAApD,CAAlB;AAAwE;AAArL;AAAA;AAAA;AAAA;AAAA,0BAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAK,kBAAA,SAAS,EAAE1H,OAAO,CAACuH,WAAxB;AAAA,qDAA4C;AAAO,oBAAA,SAAS,EAAEvH,OAAO,CAACsJ,eAA1B;AAA2C,oBAAA,IAAI,EAAC,MAAhD;AAAuD,oBAAA,QAAQ,EAAG9B,CAAD,IAAO;AAACpG,sBAAAA,YAAY,CAACoG,CAAC,CAACC,MAAF,CAAS8B,KAAT,CAAe,CAAf,CAAD,CAAZ;AAAgC;AAAzG;AAAA;AAAA;AAAA;AAAA,0BAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAK,kBAAA,SAAS,EAAEvJ,OAAO,CAACwJ,cAAxB;AAAA,0CACI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,EAAE,EAAC,MAA1B;AAAiC,oBAAA,OAAO,EAAEpH,eAAe,CAACb,IAA1D;AAAgE,oBAAA,OAAO,EAClEiG,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUzH,0BAAAA,IAAI,EAAEiG,CAAC,CAACC,MAAF,CAASgC;AAAzB,yBAAP;AAAyC,uBAArD,CAAlB;AAAyE;AADrF;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAO,oBAAA,GAAG,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,eASI;AAAK,kBAAA,SAAS,EAAEzJ,OAAO,CAACwJ,cAAxB;AAAA,0CACI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,EAAE,EAAC,OAA1B;AAAkC,oBAAA,OAAO,EAAEpH,eAAe,CAACZ,KAA3D;AAAkE,oBAAA,OAAO,EACpEgG,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUxH,0BAAAA,KAAK,EAAEgG,CAAC,CAACC,MAAF,CAASgC;AAA1B,yBAAP;AAA0C,uBAAtD,CAAlB;AAA0E;AADtF;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAO,oBAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBATJ,eAeI;AAAK,kBAAA,SAAS,EAAEzJ,OAAO,CAACwJ,cAAxB;AAAA,0CACI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,EAAE,EAAC,OAA1B;AAAkC,oBAAA,OAAO,EAAEpH,eAAe,CAACX,KAA3D;AAAkE,oBAAA,OAAO,EACpE+F,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUvH,0BAAAA,KAAK,EAAE+F,CAAC,CAACC,MAAF,CAASgC;AAA1B,yBAAP;AAA0C,uBAAtD,CAAlB;AAA0E;AADtF;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAO,oBAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAfJ,eAqBI;AAAK,kBAAA,SAAS,EAAEzJ,OAAO,CAACwJ,cAAxB;AAAA,0CACI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,EAAE,EAAC,UAA1B;AAAqC,oBAAA,OAAO,EAAEpH,eAAe,CAACV,QAA9D;AAAwE,oBAAA,OAAO,EAC1E8F,CAAD,IAAO;AAACnF,sBAAAA,kBAAkB,CAAE2G,IAAD,IAAU;AAAC,+BAAO,EAAC,GAAGA,IAAJ;AAAUtH,0BAAAA,QAAQ,EAAE8F,CAAC,CAACC,MAAF,CAASgC;AAA7B,yBAAP;AAA6C,uBAAzD,CAAlB;AAA6E;AADzF;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAO,oBAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBArBJ,eA2BI;AAAA,0CACI;AAAQ,oBAAA,SAAS,EAAEzJ,OAAO,CAAC0J,gBAA3B;AAA6C,oBAAA,OAAO,EAAEtD,mBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAQ,oBAAA,SAAS,EAAEpG,OAAO,CAAC4H,kBAA3B;AAA+C,oBAAA,OAAO,EAAEzB,kBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlDR,eAkGI;AAAI,UAAA,IAAI,EAAC,GAAT;AAAa,UAAA,KAAK,EAAC,SAAnB;AAA6B,UAAA,SAAS,EAAEnG,OAAO,CAAC2J;AAAhD;AAAA;AAAA;AAAA;AAAA,gBAlGJ,eAmGI;AAAK,UAAA,SAAS,EAAE3J,OAAO,CAAC4J,mBAAxB;AAAA,oBAEKhI,eAAD,gBACI;AAAA,mCAEI;AAAK,cAAA,SAAS,EAAE5B,OAAO,CAAC6J,WAAxB;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAE7J,OAAO,CAAC8J,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAE9J,OAAO,CAAC+J,QAAxB;AAAA,0BAEQ3J,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAA5B,CAAkCqG,MAAlC,CAA0C/B,QAAD,IAAc;AACnD,yBAAOA,QAAQ,CAAC/E,EAAT,KAAgBtB,eAAe,CAACsB,EAAvC;AACH,iBAFD,EAEG8E,GAFH,CAEO,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACxB,yBAAOD,QAAQ,CAACtE,KAAT,CAAeA,KAAf,CAAqBqE,GAArB,CAAyB,CAACtC,IAAD,EAAOwC,KAAP,KAAiB;AAC7C,wBAAI,CAAExC,IAAI,CAAC/D,MAAX,EAAoB;AAChB,0CACI;AAAK,wBAAA,SAAS,EAAE3B,OAAO,CAACiK,QAAxB;AAAA,gDACI;AAAK,0BAAA,SAAS,EAAEjK,OAAO,CAACa,eAAxB;AAAA,kDACI;AAAM,4BAAA,SAAS,EAAEb,OAAO,CAACkK,UAAzB;AAAA,mDACI;AAAK,8BAAA,SAAS,EAAElK,OAAO,CAACmB,SAAxB;AAAmC,8BAAA,GAAG,EAAEuE,IAAI,CAAC7F;AAA7C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kCADJ,eAII;AAAK,4BAAA,SAAS,EAAEG,OAAO,CAACmK,SAAxB;AAAA,mDACI;AAAG,8BAAA,SAAS,EAAEnK,OAAO,CAACW,QAAtB;AAAA,wCAAiC+E,IAAI,CAACvC;AAAtC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kCAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eASI;AAAK,0BAAA,SAAS,EAAEnD,OAAO,CAACoK,WAAxB;AAAA,kDACI;AAAQ,4BAAA,SAAS,EAAEpK,OAAO,CAACqK,UAA3B;AAAuC,4BAAA,OAAO,EAAE,MAAM5E,qBAAqB,CAACC,IAAD,CAA3E;AAAA,mDAAmF;AAAK,8BAAA,SAAS,EAAE1F,OAAO,CAACsK,WAAxB;AAAqC,8BAAA,GAAG,EAAEzK;AAA1C;AAAA;AAAA;AAAA;AAAA;AAAnF;AAAA;AAAA;AAAA;AAAA,kCADJ,eAEI;AAAQ,4BAAA,SAAS,EAAEG,OAAO,CAACqK,UAA3B;AAAuC,4BAAA,OAAO,EAAE,MAAMnE,uBAAuB,CAACR,IAAD,CAA7E;AAAA,mDAAqF;AAAK,8BAAA,SAAS,EAAE1F,OAAO,CAACsK,WAAxB;AAAqC,8BAAA,GAAG,EAAExK;AAA1C;AAAA;AAAA;AAAA;AAAA;AAArF;AAAA;AAAA;AAAA;AAAA,kCAFJ,eAGI;AAAQ,4BAAA,SAAS,EAAEE,OAAO,CAACqK,UAA3B;AAAuC,4BAAA,OAAO,EAAE,YAAW,MAAM9D,mBAAmB,CAACb,IAAD,CAApF;AAAA,mDAA4F;AAAK,8BAAA,SAAS,EAAE1F,OAAO,CAACsK,WAAxB;AAAqC,8BAAA,GAAG,EAAEvK;AAA1C;AAAA;AAAA;AAAA;AAAA;AAA5F;AAAA;AAAA;AAAA;AAAA,kCAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCATJ;AAAA,yBAAuC2F,IAAI,CAACxC,EAAL,GAAUwC,IAAI,CAACxC,EAAf,GAAoBgF,KAA3D;AAAA;AAAA;AAAA;AAAA,8BADJ;AAiBH;AACJ,mBApBM,CAAP;AAqBH,iBAxBD;AAFR;AAAA;AAAA;AAAA;AAAA,sBAFJ,eA+BI;AAAA,0BAEQ9H,KAAK,CAAC6C,UAAN,CAAiBS,UAAjB,CAA4BC,KAA5B,CAAkCqG,MAAlC,CAA0C/B,QAAD,IAAc;AACnD,yBAAOA,QAAQ,CAAC/E,EAAT,KAAgBtB,eAAe,CAACsB,EAAvC;AACH,iBAFD,EAEG8E,GAFH,CAEO,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACxB,yBAAOD,QAAQ,CAACtE,KAAT,CAAeA,KAAf,CAAqBqE,GAArB,CAAyB,CAACtC,IAAD,EAAOwC,KAAP,KAAiB;AAC7C,wBAAIxC,IAAI,CAAC/D,MAAT,EAAiB;AACb,0CACI;AAAA,gDACI;AAAK,0BAAA,GAAG,EAAE+D,IAAI,CAAC7F;AAAf;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI;AAAA,oCAAI6F,IAAI,CAACvC;AAAT;AAAA;AAAA;AAAA;AAAA,gCAFJ,eAGI;AAAQ,0BAAA,OAAO,EAAE,MAAMsC,qBAAqB,CAACC,IAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHJ,eAII;AAAQ,0BAAA,OAAO,EAAE,MAAMQ,uBAAuB,CAACR,IAAD,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJJ,eAKI;AAAQ,0BAAA,OAAO,EAAE,YAAW,MAAMe,qBAAqB,CAACf,IAAD,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCALJ;AAAA,yBAAUA,IAAI,CAACxC,EAAL,GAAUwC,IAAI,CAACxC,EAAf,GAAoBgF,KAA9B;AAAA;AAAA;AAAA;AAAA,8BADJ;AASH;AACJ,mBAZM,CAAP;AAaH,iBAhBD;AAFR;AAAA;AAAA;AAAA;AAAA,sBA/BJ,EAoDKzH,eAAe,iBACZ;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAET,OAAO,CAAC6G,QAAxB;AAAkC,kBAAA,OAAO,EAAErB;AAA3C;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAK,kBAAA,SAAS,EAAExF,OAAO,CAAC2I,mBAAxB;AAAA,0CACI;AAAG,oBAAA,SAAS,EAAE3I,OAAO,CAAC4I,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAK,oBAAA,SAAS,EAAE5I,OAAO,CAAC6I,cAAxB;AAAA,4CACI;AAAK,sBAAA,SAAS,EAAE7I,OAAO,CAAC8I,eAAxB;AAAA,8CACI;AAAK,wBAAA,SAAS,EAAE9I,OAAO,CAACuH,WAAxB;AAAA,0DAA2C;AAAO,0BAAA,SAAS,EAAEvH,OAAO,CAAC+I,cAA1B;AAA0C,0BAAA,IAAI,EAAC,MAA/C;AAAsD,0BAAA,QAAQ,EAAGvB,CAAD,IAAO;AAAC5G,4BAAAA,WAAW,CAAC4G,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B;AAApG;AAAA;AAAA;AAAA;AAAA,gCAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAK,wBAAA,SAAS,EAAE1H,OAAO,CAACiJ,YAAxB;AAAA,iEAAmD;AAAO,0BAAA,SAAS,EAAEjJ,OAAO,CAACkJ,qBAA1B;AAAiD,0BAAA,IAAI,EAAC,MAAtD;AAA6D,0BAAA,QAAQ,EAAG1B,CAAD,IAAO;AAAC1G,4BAAAA,kBAAkB,CAAC0G,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAmC;AAAlH;AAAA;AAAA;AAAA;AAAA,gCAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ,eAGI;AAAK,wBAAA,SAAS,EAAE1H,OAAO,CAACiJ,YAAxB;AAAA,iEAAmD;AAAO,0BAAA,SAAS,EAAEjJ,OAAO,CAACmJ,qBAA1B;AAAiD,0BAAA,IAAI,EAAC,MAAtD;AAA6D,0BAAA,QAAQ,EAAG3B,CAAD,IAAO;AAACxG,4BAAAA,kBAAkB,CAACwG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAmC;AAAlH;AAAA;AAAA;AAAA;AAAA,gCAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAMI;AAAK,sBAAA,SAAS,EAAE1H,OAAO,CAACoJ,iBAAxB;AAAA,8CACI;AAAK,wBAAA,SAAS,EAAEpJ,OAAO,CAACuH,WAAxB;AAAA,4DAA6C;AAAO,0BAAA,SAAS,EAAEvH,OAAO,CAACqJ,eAA1B;AAA2C,0BAAA,IAAI,EAAC,MAAhD;AAAuD,0BAAA,QAAQ,EAAG7B,CAAD,IAAO;AAACtG,4BAAAA,YAAY,CAACsG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AAA6B;AAAtG;AAAA;AAAA;AAAA;AAAA,gCAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAK,wBAAA,SAAS,EAAE1H,OAAO,CAACuH,WAAxB;AAAA,2DAA4C;AAAO,0BAAA,SAAS,EAAEvH,OAAO,CAACsJ,eAA1B;AAA2C,0BAAA,IAAI,EAAC,MAAhD;AAAuD,0BAAA,QAAQ,EAAG9B,CAAD,IAAO;AAACpG,4BAAAA,YAAY,CAACoG,CAAC,CAACC,MAAF,CAAS8B,KAAT,CAAe,CAAf,CAAD,CAAZ;AAAgC;AAAzG;AAAA;AAAA;AAAA;AAAA,gCAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ,eAGI;AAAA,gDACI;AAAO,0BAAA,IAAI,EAAC,UAAZ;AAAuB,0BAAA,EAAE,EAAC,MAA1B;AAAiC,0BAAA,OAAO,EACnC/B,CAAD,IAAO;AAAClG,4BAAAA,kBAAkB,CAAE0H,IAAD,IAAU;AAAC,qCAAO,EAAC,GAAGA,IAAJ;AAAUzH,gCAAAA,IAAI,EAAEiG,CAAC,CAACC,MAAF,CAASgC;AAAzB,+BAAP;AAAyC,6BAArD,CAAlB;AAAyE;AADrF;AAAA;AAAA;AAAA;AAAA,gCADJ,eAII;AAAO,0BAAA,GAAG,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHJ,eASI;AAAA,gDACI;AAAO,0BAAA,IAAI,EAAC,UAAZ;AAAuB,0BAAA,EAAE,EAAC,OAA1B;AAAkC,0BAAA,OAAO,EACpCjC,CAAD,IAAO;AAAClG,4BAAAA,kBAAkB,CAAE0H,IAAD,IAAU;AAAC,qCAAO,EAAC,GAAGA,IAAJ;AAAUxH,gCAAAA,KAAK,EAAEgG,CAAC,CAACC,MAAF,CAASgC;AAA1B,+BAAP;AAA0C,6BAAtD,CAAlB;AAA0E;AADtF;AAAA;AAAA;AAAA;AAAA,gCADJ,eAII;AAAO,0BAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BATJ,eAeI;AAAA,gDACI;AAAO,0BAAA,IAAI,EAAC,UAAZ;AAAuB,0BAAA,EAAE,EAAC,OAA1B;AAAkC,0BAAA,OAAO,EACpCjC,CAAD,IAAO;AAAClG,4BAAAA,kBAAkB,CAAE0H,IAAD,IAAU;AAAC,qCAAO,EAAC,GAAGA,IAAJ;AAAUvH,gCAAAA,KAAK,EAAE+F,CAAC,CAACC,MAAF,CAASgC;AAA1B,+BAAP;AAA0C,6BAAtD,CAAlB;AAA0E;AADtF;AAAA;AAAA;AAAA;AAAA,gCADJ,eAII;AAAO,0BAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BAfJ,eAqBI;AAAA,gDACI;AAAO,0BAAA,IAAI,EAAC,UAAZ;AAAuB,0BAAA,EAAE,EAAC,UAA1B;AAAqC,0BAAA,OAAO,EACvCjC,CAAD,IAAO;AAAClG,4BAAAA,kBAAkB,CAAE0H,IAAD,IAAU;AAAC,qCAAO,EAAC,GAAGA,IAAJ;AAAUtH,gCAAAA,QAAQ,EAAE8F,CAAC,CAACC,MAAF,CAASgC;AAA7B,+BAAP;AAA6C,6BAAzD,CAAlB;AAA6E;AADzF;AAAA;AAAA;AAAA;AAAA,gCADJ,eAII;AAAO,0BAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BArBJ,eA2BI;AAAQ,wBAAA,OAAO,EAAEtF,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA3BJ,eA4BI;AAAQ,wBAAA,OAAO,EAAEqB,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BANJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBArDR,eAiGI;AAAQ,gBAAA,SAAS,EAAExF,OAAO,CAACuK,SAA3B;AAAsC,gBAAA,OAAO,EAAErG,cAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,kBADJ,gBAwGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA1GR;AAAA;AAAA;AAAA;AAAA,gBAnGJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiPH,CA5gBD;;GAAM/D,Q;;KAAAA,Q;AA8gBN,eAAeA,QAAf","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react/cjs/react.development';\n\nimport Storage from '@aws-amplify/storage';\nimport API from '@aws-amplify/api';\nimport { graphqlOperation } from '@aws-amplify/api-graphql';\nimport { createCategory } from '../../graphql/mutations';\nimport { createItem } from '../../graphql/mutations';\nimport { deleteItem } from '../../graphql/mutations';\nimport { updateItem } from '../../graphql/mutations';\nimport image from '../../assets/images/delete.png';\nimport image2 from '../../assets/images/edit.png';\nimport image3 from '../../assets/images/hide.png';\n\nimport classes from './EditMenu.module.css';\nimport { v4 as uuid } from 'uuid';\n\nconst EditMenu = (props) => {\n    // props = [bucket, region, restaurant, restaurantSetter]\n    //const [items, setItems] = useState(null);\n\n    const [categoryAdderOpened, setCategoryAdderOpened] = useState(false);\n    const [categoryName, setCategoryName] = useState('');\n\n    const [itemAdderOpened, setItemAdderOpened] = useState(false);\n    const [itemName, setItemName] = useState('');\n    const [itemDescription, setItemDescription] = useState('');\n    const [itemIngredients, setItemIngredients] = useState('');\n    const [itemPrice, setItemPrice] = useState('');\n    const [itemImage, setItemImage] = useState(null);\n    const [itemSpecialities, setItemSpecilities] =\n         useState({vege: false, vegan: false, halal: false, featured: false, hidden: false});\n    \n    const [currentCategory, setCurrentCategory] = useState(null);\n\n    const [deleteModalOpened, setDeleteModalOpened] = useState(false);\n    const [itemToBeDeleted, setItemToBeDeleted] = useState(null);\n\n    const [itemEditorOpened, setItemEditorOpened] = useState(false);\n    const [itemToBeEditted, setItemToBeEditted] = useState(null);\n\n    const [loadingMessage, setLoadingMessage] = useState(null);\n\n    const [qrCodeViewerOpened, setQRCodeViewerOpened] = useState(false);\n\n    const qrCodeURLBase = 'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data='\n\n    console.log('rendering EditMenu')\n\n    const AddCategoryHandler = () => {\n        setCategoryAdderOpened(true)\n    }\n\n    const onAddCategoryConfirm = async() => {\n        console.log('from onAddCategoryConfirm');\n        if (categoryName === '') {\n            return\n        }\n\n        const inputData = { restaurantID: props.restaurant.id, name: categoryName }\n        try {\n            const newCategoryData = await API.graphql(graphqlOperation(createCategory, { input: inputData }))\n            const newCategory = newCategoryData.data.createCategory;\n\n            let newCategories = props.restaurant.categories.items\n            if (newCategories) {\n                console.log('current category', newCategories)\n                console.log('categories with items');\n                newCategories.push(newCategory);\n                console.log('updated category', newCategories)\n            } else {\n                console.log('categories empty');\n                newCategories = [newCategory]\n            }\n            \n            props.restaurantSetter((prevRestaurant) => {\n                let newRestaurant = prevRestaurant;\n                newRestaurant.categories.items = newCategories;\n                return newRestaurant;\n            })\n            console.log('from onAddCategoryConfirm success');\n        } catch (err) {\n            console.log('error creating category:', err);\n        }\n\n        setCategoryAdderOpened(false)\n    }\n\n    const onAddCategoryCancel = () => {\n        setCategoryAdderOpened(false)\n    }\n\n    const AddMenuHandler = () => {\n        setItemAdderOpened(true)\n    }\n\n    const onAddItemConfirm = async() => {\n        console.log('onAddItemConfirm');\n        if (itemName === '' || !itemImage || itemPrice === '') {\n            return\n        }\n\n        const extension = itemImage.name.split(\".\")[1];\n        const { type: mimeType } = itemImage;\n        const key = `${uuid()}${itemName}.${extension}`;\n        const url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n        const inputData = { categoryID: currentCategory.id,\n                            name: itemName,\n                            description: itemDescription,\n                            ingredients: itemIngredients,\n                            price: itemPrice,\n                            image: url,\n                            vegan: itemSpecialities.vegan,\n                            vege: itemSpecialities.vege,\n                            halal: itemSpecialities.halal,\n                            featured: itemSpecialities.featured,\n                            hidden: itemSpecialities.hidden,\n        }\n\n        try {\n            // s3 update\n            await Storage.put(key, itemImage, {contentType: mimeType});\n            // api update\n            const newItemData = await API.graphql(graphqlOperation(createItem, { input: inputData }))\n            console.log('from onAddItemConfirm: newItemData : ', newItemData);\n            const newItem = newItemData.data.createItem;\n\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex((obj => obj.id === currentCategory.id))\n                let updatedCategory = prevRestaurant.categories.items[categoryIndex];\n                if (!(updatedCategory.items)) {\n                    updatedCategory = { ...updatedCategory, items: {items: []}}\n                }\n                prevRestaurant.categories.items[categoryIndex] = updatedCategory;\n                prevRestaurant.categories.items[categoryIndex].items.items.push(newItem);\n                return prevRestaurant;\n            })\n\n        } catch (err) {\n            console.log('error creating items:', err);\n        }\n\n        setItemAdderOpened(false)\n        setItemName('');\n        setItemDescription('');\n        setItemIngredients('');\n        setItemImage(null);\n        setItemSpecilities({vege: false, vegan: false, halal: false, featured: false, hidden: false})\n        setCategoryAdderOpened(false)\n    }\n    \n    const onAddItemCancel = () => {\n        setItemAdderOpened(false)\n        setItemName('');\n        setItemDescription('');\n        setItemIngredients('');\n        setItemImage(null);\n        setItemSpecilities({vege: false, vegan: false, halal: false, featured: false, hidden: false})\n    }\n\n    const onDeleteButtonClicked = (item) => {\n        setDeleteModalOpened(true);\n        setItemToBeDeleted(item);\n    }\n\n    const onDeleteItemCanceled = () => {\n        setDeleteModalOpened(false);\n        setItemToBeDeleted(null);\n    }\n\n\n    const onDeleteItemConfirmed = async() => {\n        try {\n            //s3 update\n            const deletedKey = itemToBeDeleted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n            await Storage.remove(deletedKey);\n            //api update\n            const inputData = {id: itemToBeDeleted.id}\n            await API.graphql(graphqlOperation(deleteItem, { input: inputData }))\n            //restaurant update\n            await props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeDeleted.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeDeleted.id)\n                console.log('deleting item index:', itemIndex);\n                prevRestaurant.categories.items[categoryIndex].items.items.splice(itemIndex, 1);\n                return prevRestaurant;\n            })\n\n            console.log('from onItemDeleted', props.restaurant);\n        } catch(err) {\n            console.log('error deleting item', err);\n        }\n        setDeleteModalOpened(false);\n        setItemToBeDeleted(null);\n    }\n\n    const onEditItemButtonClicked = (item) => {\n        setItemEditorOpened(true);\n        setItemToBeEditted(item);\n    }\n\n    const onEditItemCanceled = () => {\n        setItemEditorOpened(false);\n        setItemToBeEditted(null);\n    }\n\n    const onEditItemConfirmed = async() => {\n        console.log('onEditItemConfirmed start')\n        try {\n            //s3 update\n            let url = itemToBeEditted.image\n            console.log('onEditItemConfirmed 1')\n            if (itemImage) {\n                //1. s3 delete\n                console.log('onEditItemConfirmed 2')\n                const deletedKey = itemToBeEditted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n                await Storage.remove(deletedKey);\n                //2. s3 upload\n                console.log('onEditItemConfirmed 3')\n                const extension = itemImage.name.split(\".\")[1];\n                const { type: mimeType } = itemImage;\n                const key = `${uuid()}${itemToBeEditted.name}.${extension}`;\n                url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n                await Storage.put(key, itemImage, {contentType: mimeType});\n            }\n            console.log('onEditItemConfirmed 4')\n            //api update\n            const inputData = { \n                                id: itemToBeEditted.id,\n                                name: itemToBeEditted.name,\n                                description: itemToBeEditted.description,\n                                ingredients: itemToBeEditted.ingredients,\n                                price: itemToBeEditted.price,\n                                image: url,\n                                vegan: itemToBeEditted.vegan,\n                                vege: itemToBeEditted.vege,\n                                halal: itemToBeEditted.halal,\n                                featured: itemToBeEditted.featured,\n                                hidden: itemToBeEditted.hidden,\n            }\n            const updatedItemData = await API.graphql(graphqlOperation(updateItem, { input: inputData }))\n            const updatedItem = updatedItemData.data.updateItem;\n            console.log('onEditItemConfirmed 5')\n            //restaurant update\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeEditted.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeEditted.id)\n                console.log('deleting item index:', itemIndex);\n                prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n                return prevRestaurant;\n            })\n            console.log('onEditItemConfirmed 5')\n        } catch(err) {\n            console.log('error onEditItemConfirmed:', err)\n        }\n        setItemEditorOpened(false);\n        setItemToBeEditted(null);\n    }\n\n    const onHideButtonClicked = async(item) => {\n        console.log('from onHideButtonClicked: ', item)\n        setLoadingMessage('hiding from Menu...');\n        await changeItemVisibility(item, true);\n    }\n\n    const onRevealButtonClicked = async(item) => {\n        console.log('from onRevealButtonClicked: ', item)\n        setLoadingMessage('revealing to Menu ...');\n        await changeItemVisibility(item, false);\n    }\n\n    const changeItemVisibility = async(item, hidden) => {\n        try {\n            const inputData = {\n                id: item.id,\n                hidden: hidden\n            }\n            const updatedItemData = await API.graphql(graphqlOperation(updateItem, { input: inputData }))\n            const updatedItem = updatedItemData.data.updateItem;\n            //restaurant update\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == item.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === item.id)\n                prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n                return prevRestaurant;\n            })\n        } catch(err) {\n            console.log('error toggling hidden: ', err)\n        }\n        setLoadingMessage(null);\n    }\n\n    const onQRCodeRequested = () => {\n        setQRCodeViewerOpened(true);\n    }\n\n    const onQRCodeClosed = () => {\n        setQRCodeViewerOpened(false);\n    }\n\n    return (\n        <div className={classes.editMenu}>\n            {loadingMessage && (\n                <div>\n                    <div className={classes.backdrop}/>\n                    <div className={classes.loading}>\n                        <p>{loadingMessage}</p>\n                    </div>\n                </div>\n            )}\n            {qrCodeViewerOpened && (\n                <div>\n                    <div className={classes.backdrop} onClick={onQRCodeClosed} />\n                    <div className={classes.qrCodeContainer}>\n                        <img src={qrCodeURLBase + 'new-feature.d1ac5hakempkoy.amplifyapp.com' + props.restaurant.id}></img>\n                    </div>\n                </div>\n\n            )}\n            {/* <div>\n                <button onClick={onQRCodeRequested}>QR Code</button>\n            </div> */}\n            <div className={classes.content}>\n                <div className={classes.mainText}>\n                    Your Menu\n                </div>\n                <div className={classes.editArea}>\n                    <div className={classes.categoryArea}>\n                        {categoryAdderOpened && (\n                            <div>\n                                <div className={classes.backdrop} onClick={onAddCategoryCancel} />\n                                <div className={classes.editorContainer}>\n                                    <div className={classes.editorText}>Category Name: </div>\n                                    <div className={classes.editorInputArea}>\n                                        <input className={classes.editorInput} type='text' onChange={(e) => {setCategoryName(e.target.value)}} />\n                                        <button className={classes.editorConfirmButton} onClick={onAddCategoryConfirm}>Confirm</button>\n                                        <button className={classes.editorCancelButton} onClick={onAddCategoryCancel}>Cancel</button>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                        <div className={classes.Ctext}>\n                            Categories\n                        </div>\n                        <div className={classes.Citems}>\n                        {\n                            (props.restaurant.categories.items) && (\n                                (props.restaurant.categories.items.length > 0) ? (\n                                    props.restaurant.categories.items.map((category, index) => (\n                                        <div className={classes.eachItem} key={category.id ? category.id : index}>\n                                            {/* <div className={classes.eachItem}> */}\n                                            <button className={classes.button} onClick={() => setCurrentCategory({id: category.id, name: category.name})}>{category.name}</button>\n                                            {/* </div> */}\n                                        </div>\n                                    ))\n                                ) : (\n                                    <p>Add Your Restaurant Menu Category!</p>\n                                )\n                            )\n                        }\n                        </div>\n                        <div className={classes.buttonSection}>\n                            <button className={classes.Cbutton} onClick={AddCategoryHandler}>+ Add</button>\n                        </div>\n                    </div>\n                    {deleteModalOpened && (\n                        <div>\n                            <div className={classes.backdrop} onClick={onDeleteItemCanceled} />\n                            <div className={classes.deleteModalContainer}>\n                                <div className={classes.editorDeleteText}>Do you want to delete this?</div>\n                                <button  className={classes.editorYesButton} onClick={onDeleteItemConfirmed}>Yes</button>\n                                <button className={classes.editorNoButton} onClick={onDeleteItemCanceled}>No</button>\n                            </div>\n                        </div>\n                    )}\n                    {itemEditorOpened && (\n                        <div>\n                            <div className={classes.backdrop} onClick={onEditItemCanceled} />\n                            <div className={classes.editorEditContainer}>\n                                <p className={classes.editorEditText}>Edit an Item</p>\n                                <div className={classes.editorEditArea}>  \n                                    <div className={classes.editorEditInput}>\n                                        <div className={classes.editorInput}>Name: <input className={classes.editorEditName} type='text' placeholder={itemToBeEditted.name} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, name: e.target.value}})}} /></div>\n                                        <div className={classes.editorInput2}>Description: <textarea className={classes.editorEditDescription} type='text' placeholder={itemToBeEditted.description} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, description: e.target.value}})}} /></div>\n                                        <div className={classes.editorInput2}>Ingredients: <textarea className={classes.editorEditIngredients} type='text' placeholder={itemToBeEditted.ingredients} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, ingredients: e.target.value}})}} /></div>\n                                        {/* <div className={classes.editorEditArea}>Price: <input className={classes.editorInput} type='text' placeholder={itemToBeEditted.price} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, price: e.target.value}})}} /></div>\n                                        <div className={classes.editorEditArea}>Image: <input type='file' onChange={(e) => {setItemImage(e.target.files[0])}} /></div> */}\n                                    </div>\n                                    <div className={classes.editorEditButtons}>\n                                        <div className={classes.editorInput}>Price: <input className={classes.editorEditPrice} type='text' placeholder={itemToBeEditted.price} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, price: e.target.value}})}} /></div>\n                                        <div className={classes.editorInput}>Image: <input className={classes.editorEditImage} type='file' onChange={(e) => {setItemImage(e.target.files[0])}} /></div>\n                                        <div className={classes.editorCheckBox}>\n                                            <input type=\"checkbox\" id=\"vege\" checked={itemToBeEditted.vege} onClick={\n                                                (e) => {setItemToBeEditted((prev) => {return {...prev, vege: e.target.checked}})}\n                                                } />\n                                            <label for=\"vege\"> vegetarian</label>\n                                        </div>\n                                        <div className={classes.editorCheckBox}>\n                                            <input type=\"checkbox\" id=\"vegan\" checked={itemToBeEditted.vegan} onClick={\n                                                (e) => {setItemToBeEditted((prev) => {return {...prev, vegan: e.target.checked}})}\n                                                } />\n                                            <label for=\"vegan\"> vegan</label>\n                                        </div>\n                                        <div className={classes.editorCheckBox}>\n                                            <input type=\"checkbox\" id=\"halal\" checked={itemToBeEditted.halal} onClick={\n                                                (e) => {setItemToBeEditted((prev) => {return {...prev, halal: e.target.checked}})}\n                                                } />\n                                            <label for=\"halal\"> halal</label>\n                                        </div>\n                                        <div className={classes.editorCheckBox}>\n                                            <input type=\"checkbox\" id=\"featured\" checked={itemToBeEditted.featured} onClick={\n                                                (e) => {setItemToBeEditted((prev) => {return {...prev, featured: e.target.checked}})}\n                                                } />\n                                            <label for=\"featured\"> featured</label>\n                                        </div>\n                                        <div>\n                                            <button className={classes.editorSaveButton} onClick={onEditItemConfirmed}>Save</button>\n                                            <button className={classes.editorCancelButton} onClick={onEditItemCanceled}>Cancel</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                    <hr size=\"1\" color=\"#6B2200\" className={classes.line}></hr>\n                    <div className={classes.currentCategoryArea}>\n                    {\n                        (currentCategory) ? (\n                            <div>\n                                {/* <p>currentCategory: {currentCategory.name} </p> */}\n                                <div className={classes.itemContent}>\n                                    <div className={classes.Itext}> Items</div>\n                                    <div className={classes.itemArea}>\n                                        {\n                                            props.restaurant.categories.items.filter((category) => {\n                                                return category.id === currentCategory.id\n                                            }).map((category, index) => {\n                                                return category.items.items.map((item, index) => {\n                                                    if (!(item.hidden)) {\n                                                        return (\n                                                            <div className={classes.itemlist} key={item.id ? item.id : index}>\n                                                                <div className={classes.itemDescription}>\n                                                                    <div  className={classes.itemImage1}>\n                                                                        <img className={classes.itemImage} src={item.image}></img>\n                                                                    </div>\n                                                                    <div className={classes.itemName1}>\n                                                                        <p className={classes.itemName}>{item.name}</p>\n                                                                    </div>\n                                                                </div>\n                                                                <div className={classes.itemButtons}>\n                                                                    <button className={classes.itemButton} onClick={() => onDeleteButtonClicked(item)}><img className={classes.buttonImage} src={image}/></button>\n                                                                    <button className={classes.itemButton} onClick={() => onEditItemButtonClicked(item)}><img className={classes.buttonImage} src={image2}/></button>\n                                                                    <button className={classes.itemButton} onClick={async() => await onHideButtonClicked(item)}><img className={classes.buttonImage} src={image3}/></button>\n                                                                </div>\n                                                            </div>\n                                                        )\n                                                    }\n                                                }) \n                                            })\n                                        }\n                                    </div>\n                                    <div>\n                                        {\n                                            props.restaurant.categories.items.filter((category) => {\n                                                return category.id === currentCategory.id\n                                            }).map((category, index) => {\n                                                return category.items.items.map((item, index) => {\n                                                    if (item.hidden) {\n                                                        return (\n                                                            <div key={item.id ? item.id : index}>\n                                                                <img src={item.image}></img>\n                                                                <p>{item.name}</p>\n                                                                <button onClick={() => onDeleteButtonClicked(item)}>delete</button>\n                                                                <button onClick={() => onEditItemButtonClicked(item)}>edit</button>\n                                                                <button onClick={async() => await onRevealButtonClicked(item)}>reveal to menu</button>\n                                                            </div>\n                                                        )\n                                                    }\n                                                }) \n                                            })\n                                        }\n                                    </div>\n                                    {itemAdderOpened && (\n                                        <div>\n                                            <div className={classes.backdrop} onClick={onAddItemCancel} />\n                                            <div className={classes.editorEditContainer}>\n                                                <p className={classes.editorEditText}> Add a new Item </p>\n                                                <div className={classes.editorEditArea}>  \n                                                    <div className={classes.editorEditInput}>\n                                                        <div className={classes.editorInput}>Name: <input className={classes.editorEditName} type='text' onChange={(e) => {setItemName(e.target.value)}} /></div>\n                                                        <div className={classes.editorInput2}>Description: <input className={classes.editorEditDescription} type='text' onChange={(e) => {setItemDescription(e.target.value)}} /></div>\n                                                        <div className={classes.editorInput2}>Ingredients: <input className={classes.editorEditIngredients} type='text' onChange={(e) => {setItemIngredients(e.target.value)}} /></div>\n                                                    </div>\n                                                    <div className={classes.editorEditButtons}>\n                                                        <div className={classes.editorInput}>price: $<input className={classes.editorEditPrice} type='text' onChange={(e) => {setItemPrice(e.target.value)}} /></div>\n                                                        <div className={classes.editorInput}>Image: <input className={classes.editorEditImage} type='file' onChange={(e) => {setItemImage(e.target.files[0])}} /></div>\n                                                        <div>\n                                                            <input type=\"checkbox\" id=\"vege\" onClick={\n                                                                (e) => {setItemSpecilities((prev) => {return {...prev, vege: e.target.checked}})}\n                                                                } />\n                                                            <label for=\"vege\">vegetarian</label>\n                                                        </div>\n                                                        <div>\n                                                            <input type=\"checkbox\" id=\"vegan\" onClick={\n                                                                (e) => {setItemSpecilities((prev) => {return {...prev, vegan: e.target.checked}})}\n                                                                } />\n                                                            <label for=\"vegan\">vegan</label>\n                                                        </div>\n                                                        <div>\n                                                            <input type=\"checkbox\" id=\"halal\" onClick={\n                                                                (e) => {setItemSpecilities((prev) => {return {...prev, halal: e.target.checked}})}\n                                                                } />\n                                                            <label for=\"halal\">halal</label>\n                                                        </div>\n                                                        <div>\n                                                            <input type=\"checkbox\" id=\"featured\" onClick={\n                                                                (e) => {setItemSpecilities((prev) => {return {...prev, featured: e.target.checked}})}\n                                                                } />\n                                                            <label for=\"featured\">featured</label>\n                                                        </div>\n                                                        <button onClick={onAddItemConfirm}>Save</button>\n                                                        <button onClick={onAddItemCancel}>Cancel</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )}\n                                    <button className={classes.addButton} onClick={AddMenuHandler}>+ Add</button>\n                                </div>\n                            </div>\n                        ) : (\n                            <p>choose category</p>\n                        )\n                    }\n                    </div>\n                </div>\n\n                \n            </div>\n        </div>\n    );\n}\n\nexport default EditMenu;"]},"metadata":{},"sourceType":"module"}