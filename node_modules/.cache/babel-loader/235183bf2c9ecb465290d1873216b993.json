{"ast":null,"code":"var _jsxFileName = \"/Users/nishimuratomohiro/Capstone2/capstone2/menyu/src/components/Layout/EditMenu.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react/cjs/react.development';\nimport Storage from '@aws-amplify/storage';\nimport API from '@aws-amplify/api';\nimport { graphqlOperation } from '@aws-amplify/api-graphql';\nimport { createCategory } from '../../graphql/mutations';\nimport { createItem } from '../../graphql/mutations';\nimport { deleteItem } from '../../graphql/mutations';\nimport { updateItem } from '../../graphql/mutations';\nimport classes from './EditMenu.module.css';\nimport { v4 as uuid } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditMenu = props => {\n  _s();\n\n  // props = [bucket, region, restaurant, restaurantSetter]\n  //const [items, setItems] = useState(null);\n  const [categoryAdderOpened, setCategoryAdderOpened] = useState(false);\n  const [categoryName, setCategoryName] = useState('');\n  const [itemAdderOpened, setItemAdderOpened] = useState(false);\n  const [itemName, setItemName] = useState('');\n  const [itemDescription, setItemDescription] = useState('');\n  const [itemIngredients, setItemIngredients] = useState('');\n  const [itemPrice, setItemPrice] = useState('');\n  const [itemImage, setItemImage] = useState(null);\n  const [itemSpecialities, setItemSpecilities] = useState({\n    vege: false,\n    vegan: false,\n    halal: false,\n    featured: false,\n    hidden: false\n  });\n  const [currentCategory, setCurrentCategory] = useState(null);\n  const [deleteModalOpened, setDeleteModalOpened] = useState(false);\n  const [itemToBeDeleted, setItemToBeDeleted] = useState(null);\n  const [itemEditorOpened, setItemEditorOpened] = useState(false);\n  const [itemToBeEditted, setItemToBeEditted] = useState(null);\n  const [loadingMessage, setLoadingMessage] = useState(null);\n  const [qrCodeViewerOpened, setQRCodeViewerOpened] = useState(false);\n  const qrCodeURLBase = 'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=';\n  console.log('rendering EditMenu');\n\n  const AddCategoryHandler = () => {\n    setCategoryAdderOpened(true);\n  };\n\n  const onAddCategoryConfirm = async () => {\n    console.log('from onAddCategoryConfirm');\n\n    if (categoryName === '') {\n      return;\n    }\n\n    const inputData = {\n      restaurantID: props.restaurant.id,\n      name: categoryName\n    };\n\n    try {\n      const newCategoryData = await API.graphql(graphqlOperation(createCategory, {\n        input: inputData\n      }));\n      const newCategory = newCategoryData.data.createCategory;\n      let newCategories = props.restaurant.categories.items;\n\n      if (newCategories) {\n        console.log('current category', newCategories);\n        console.log('categories with items');\n        newCategories.push(newCategory);\n        console.log('updated category', newCategories);\n      } else {\n        console.log('categories empty');\n        newCategories = [newCategory];\n      }\n\n      props.restaurantSetter(prevRestaurant => {\n        let newRestaurant = prevRestaurant;\n        newRestaurant.categories.items = newCategories;\n        return newRestaurant;\n      });\n      console.log('from onAddCategoryConfirm success');\n    } catch (err) {\n      console.log('error creating category:', err);\n    }\n\n    setCategoryAdderOpened(false);\n  };\n\n  const onAddCategoryCancel = () => {\n    setCategoryAdderOpened(false);\n  };\n\n  const AddMenuHandler = () => {\n    setItemAdderOpened(true);\n  };\n\n  const onAddItemConfirm = async () => {\n    console.log('onAddItemConfirm');\n\n    if (itemName === '' || !itemImage || itemPrice === '') {\n      return;\n    }\n\n    const extension = itemImage.name.split(\".\")[1];\n    const {\n      type: mimeType\n    } = itemImage;\n    const key = `${uuid()}${itemName}.${extension}`;\n    const url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n    const inputData = {\n      categoryID: currentCategory.id,\n      name: itemName,\n      description: itemDescription,\n      ingredients: itemIngredients,\n      price: itemPrice,\n      image: url,\n      vegan: itemSpecialities.vegan,\n      vege: itemSpecialities.vege,\n      halal: itemSpecialities.halal,\n      featured: itemSpecialities.featured,\n      hidden: itemSpecialities.hidden\n    };\n\n    try {\n      // s3 update\n      await Storage.put(key, itemImage, {\n        contentType: mimeType\n      }); // api update\n\n      const newItemData = await API.graphql(graphqlOperation(createItem, {\n        input: inputData\n      }));\n      console.log('from onAddItemConfirm: newItemData : ', newItemData);\n      const newItem = newItemData.data.createItem;\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id === currentCategory.id);\n        let updatedCategory = prevRestaurant.categories.items[categoryIndex];\n\n        if (!updatedCategory.items) {\n          updatedCategory = { ...updatedCategory,\n            items: {\n              items: []\n            }\n          };\n        }\n\n        prevRestaurant.categories.items[categoryIndex] = updatedCategory;\n        prevRestaurant.categories.items[categoryIndex].items.items.push(newItem);\n        return prevRestaurant;\n      });\n    } catch (err) {\n      console.log('error creating items:', err);\n    }\n\n    setItemAdderOpened(false);\n    setItemName('');\n    setItemDescription('');\n    setItemIngredients('');\n    setItemImage(null);\n    setItemSpecilities({\n      vege: false,\n      vegan: false,\n      halal: false,\n      featured: false,\n      hidden: false\n    });\n    setCategoryAdderOpened(false);\n  };\n\n  const onAddItemCancel = () => {\n    setItemAdderOpened(false);\n    setItemName('');\n    setItemDescription('');\n    setItemIngredients('');\n    setItemImage(null);\n    setItemSpecilities({\n      vege: false,\n      vegan: false,\n      halal: false,\n      featured: false,\n      hidden: false\n    });\n  };\n\n  const onDeleteButtonClicked = item => {\n    setDeleteModalOpened(true);\n    setItemToBeDeleted(item);\n  };\n\n  const onDeleteItemCanceled = () => {\n    setDeleteModalOpened(false);\n    setItemToBeDeleted(null);\n  };\n\n  const onDeleteItemConfirmed = async () => {\n    try {\n      //s3 update\n      const deletedKey = itemToBeDeleted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n      await Storage.remove(deletedKey); //api update\n\n      const inputData = {\n        id: itemToBeDeleted.id\n      };\n      await API.graphql(graphqlOperation(deleteItem, {\n        input: inputData\n      })); //restaurant update\n\n      await props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeDeleted.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeDeleted.id);\n        console.log('deleting item index:', itemIndex);\n        prevRestaurant.categories.items[categoryIndex].items.items.splice(itemIndex, 1);\n        return prevRestaurant;\n      });\n      console.log('from onItemDeleted', props.restaurant);\n    } catch (err) {\n      console.log('error deleting item', err);\n    }\n\n    setDeleteModalOpened(false);\n    setItemToBeDeleted(null);\n  };\n\n  const onEditItemButtonClicked = item => {\n    setItemEditorOpened(true);\n    setItemToBeEditted(item);\n  };\n\n  const onEditItemCanceled = () => {\n    setItemEditorOpened(false);\n    setItemToBeEditted(null);\n  };\n\n  const onEditItemConfirmed = async () => {\n    console.log('onEditItemConfirmed start');\n\n    try {\n      //s3 update\n      let url = itemToBeEditted.image;\n      console.log('onEditItemConfirmed 1');\n\n      if (itemImage) {\n        //1. s3 delete\n        console.log('onEditItemConfirmed 2');\n        const deletedKey = itemToBeEditted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n        await Storage.remove(deletedKey); //2. s3 upload\n\n        console.log('onEditItemConfirmed 3');\n        const extension = itemImage.name.split(\".\")[1];\n        const {\n          type: mimeType\n        } = itemImage;\n        const key = `${uuid()}${itemToBeEditted.name}.${extension}`;\n        url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n        await Storage.put(key, itemImage, {\n          contentType: mimeType\n        });\n      }\n\n      console.log('onEditItemConfirmed 4'); //api update\n\n      const inputData = {\n        id: itemToBeEditted.id,\n        name: itemToBeEditted.name,\n        description: itemToBeEditted.description,\n        ingredients: itemToBeEditted.ingredients,\n        price: itemToBeEditted.price,\n        image: url,\n        vegan: itemToBeEditted.vegan,\n        vege: itemToBeEditted.vege,\n        halal: itemToBeEditted.halal,\n        featured: itemToBeEditted.featured,\n        hidden: itemToBeEditted.hidden\n      };\n      const updatedItemData = await API.graphql(graphqlOperation(updateItem, {\n        input: inputData\n      }));\n      const updatedItem = updatedItemData.data.updateItem;\n      console.log('onEditItemConfirmed 5'); //restaurant update\n\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeEditted.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeEditted.id);\n        console.log('deleting item index:', itemIndex);\n        prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n        return prevRestaurant;\n      });\n      console.log('onEditItemConfirmed 5');\n    } catch (err) {\n      console.log('error onEditItemConfirmed:', err);\n    }\n\n    setItemEditorOpened(false);\n    setItemToBeEditted(null);\n  };\n\n  const onHideButtonClicked = async item => {\n    console.log('from onHideButtonClicked: ', item);\n    setLoadingMessage('hiding from Menu...');\n    await changeItemVisibility(item, true);\n  };\n\n  const onRevealButtonClicked = async item => {\n    console.log('from onRevealButtonClicked: ', item);\n    setLoadingMessage('revealing to Menu ...');\n    await changeItemVisibility(item, false);\n  };\n\n  const changeItemVisibility = async (item, hidden) => {\n    try {\n      const inputData = {\n        id: item.id,\n        hidden: hidden\n      };\n      const updatedItemData = await API.graphql(graphqlOperation(updateItem, {\n        input: inputData\n      }));\n      const updatedItem = updatedItemData.data.updateItem; //restaurant update\n\n      props.restaurantSetter(prevRestaurant => {\n        const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == item.categoryID);\n        const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === item.id);\n        prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n        return prevRestaurant;\n      });\n    } catch (err) {\n      console.log('error toggling hidden: ', err);\n    }\n\n    setLoadingMessage(null);\n  };\n\n  const onQRCodeRequested = () => {\n    setQRCodeViewerOpened(true);\n  };\n\n  const onQRCodeClosed = () => {\n    setQRCodeViewerOpened(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loadingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.backdrop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loading,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: loadingMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }, this), qrCodeViewerOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.backdrop,\n        onClick: onQRCodeClosed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.qrCodeContainer,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: qrCodeURLBase + 'new-feature.d1ac5hakempkoy.amplifyapp.com' + props.restaurant.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onQRCodeRequested,\n        children: \"QR Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.editMenu,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Your Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [categoryAdderOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.backdrop,\n            onClick: onAddCategoryCancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.editorContainer,\n            children: [\"Category Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: e => {\n                setCategoryName(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onAddCategoryConfirm,\n              children: \"Confirm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onAddCategoryCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), props.restaurant.categories.items && (props.restaurant.categories.items.length > 0 ? props.restaurant.categories.items.map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentCategory({\n              id: category.id,\n              name: category.name\n            }),\n            children: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 41\n          }, this)\n        }, category.id ? category.id : index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 37\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add Your Restaurant Menu Category!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 33\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: AddCategoryHandler,\n          children: \"+ Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this), deleteModalOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.backdrop,\n          onClick: onDeleteItemCanceled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.deleteModalContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You Sure?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDeleteItemConfirmed,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDeleteItemCanceled,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }, this), itemEditorOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.backdrop,\n          onClick: onEditItemCanceled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.editorContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Edit an Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: itemToBeEditted.name,\n              onChange: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    name: e.target.value\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Description: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: itemToBeEditted.description,\n              onChange: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    description: e.target.value\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Ingredients: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: itemToBeEditted.ingredients,\n              onChange: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    ingredients: e.target.value\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: itemToBeEditted.price,\n              onChange: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    price: e.target.value\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Image: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: e => {\n                setItemImage(e.target.files[0]);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"vege\",\n              checked: itemToBeEditted.vege,\n              onClick: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    vege: e.target.checked\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"vege\",\n              children: \"vegetarian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"vegan\",\n              checked: itemToBeEditted.vegan,\n              onClick: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    vegan: e.target.checked\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"vegan\",\n              children: \"vegan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"halal\",\n              checked: itemToBeEditted.halal,\n              onClick: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    halal: e.target.checked\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"halal\",\n              children: \"halal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"featured\",\n              checked: itemToBeEditted.featured,\n              onClick: e => {\n                setItemToBeEditted(prev => {\n                  return { ...prev,\n                    featured: e.target.checked\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"featured\",\n              children: \"featured\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEditItemConfirmed,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEditItemCanceled,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }, this), currentCategory ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"currentCategory: \", currentCategory.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: props.restaurant.categories.items.filter(category => {\n              return category.id === currentCategory.id;\n            }).map((category, index) => {\n              return category.items.items.map((item, index) => {\n                if (!item.hidden) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onDeleteButtonClicked(item),\n                      children: \"delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onEditItemButtonClicked(item),\n                      children: \"edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: async () => await onHideButtonClicked(item),\n                      children: \"hide from menu\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 61\n                    }, this)]\n                  }, item.id ? item.id : index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 57\n                  }, this);\n                }\n              });\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: props.restaurant.categories.items.filter(category => {\n              return category.id === currentCategory.id;\n            }).map((category, index) => {\n              return category.items.items.map((item, index) => {\n                if (item.hidden) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onDeleteButtonClicked(item),\n                      children: \"delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onEditItemButtonClicked(item),\n                      children: \"edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: async () => await onRevealButtonClicked(item),\n                      children: \"reveal to menu\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 61\n                    }, this)]\n                  }, item.id ? item.id : index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 57\n                  }, this);\n                }\n              });\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 33\n          }, this), itemAdderOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.backdrop,\n              onClick: onAddItemCancel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.editorContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \" Add a new Item \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onChange: e => {\n                    setItemName(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Description: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onChange: e => {\n                    setItemDescription(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Ingredients: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onChange: e => {\n                    setItemIngredients(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"price: $\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onChange: e => {\n                    setItemPrice(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Image: \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  onChange: e => {\n                    setItemImage(e.target.files[0]);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"vege\",\n                  onClick: e => {\n                    setItemSpecilities(prev => {\n                      return { ...prev,\n                        vege: e.target.checked\n                      };\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"vege\",\n                  children: \"vegetarian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"vegan\",\n                  onClick: e => {\n                    setItemSpecilities(prev => {\n                      return { ...prev,\n                        vegan: e.target.checked\n                      };\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"vegan\",\n                  children: \"vegan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"halal\",\n                  onClick: e => {\n                    setItemSpecilities(prev => {\n                      return { ...prev,\n                        halal: e.target.checked\n                      };\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"halal\",\n                  children: \"halal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"featured\",\n                  onClick: e => {\n                    setItemSpecilities(prev => {\n                      return { ...prev,\n                        featured: e.target.checked\n                      };\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"featured\",\n                  children: \"featured\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: onAddItemConfirm,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: onAddItemCancel,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: AddMenuHandler,\n            children: \"+ Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"choose category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditMenu, \"6LLUIRy5oa7R1ZmnhTUlVQGVMHw=\");\n\n_c = EditMenu;\nexport default EditMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMenu\");","map":{"version":3,"sources":["/Users/nishimuratomohiro/Capstone2/capstone2/menyu/src/components/Layout/EditMenu.js"],"names":["React","useEffect","useState","Storage","API","graphqlOperation","createCategory","createItem","deleteItem","updateItem","classes","v4","uuid","EditMenu","props","categoryAdderOpened","setCategoryAdderOpened","categoryName","setCategoryName","itemAdderOpened","setItemAdderOpened","itemName","setItemName","itemDescription","setItemDescription","itemIngredients","setItemIngredients","itemPrice","setItemPrice","itemImage","setItemImage","itemSpecialities","setItemSpecilities","vege","vegan","halal","featured","hidden","currentCategory","setCurrentCategory","deleteModalOpened","setDeleteModalOpened","itemToBeDeleted","setItemToBeDeleted","itemEditorOpened","setItemEditorOpened","itemToBeEditted","setItemToBeEditted","loadingMessage","setLoadingMessage","qrCodeViewerOpened","setQRCodeViewerOpened","qrCodeURLBase","console","log","AddCategoryHandler","onAddCategoryConfirm","inputData","restaurantID","restaurant","id","name","newCategoryData","graphql","input","newCategory","data","newCategories","categories","items","push","restaurantSetter","prevRestaurant","newRestaurant","err","onAddCategoryCancel","AddMenuHandler","onAddItemConfirm","extension","split","type","mimeType","key","url","bucket","region","categoryID","description","ingredients","price","image","put","contentType","newItemData","newItem","categoryIndex","findIndex","obj","updatedCategory","onAddItemCancel","onDeleteButtonClicked","item","onDeleteItemCanceled","onDeleteItemConfirmed","deletedKey","replace","remove","itemIndex","splice","onEditItemButtonClicked","onEditItemCanceled","onEditItemConfirmed","updatedItemData","updatedItem","onHideButtonClicked","changeItemVisibility","onRevealButtonClicked","onQRCodeRequested","onQRCodeClosed","backdrop","loading","qrCodeContainer","editMenu","editorContainer","e","target","value","length","map","category","index","deleteModalContainer","prev","files","checked","filter"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react/cjs/react.development';\n\nimport Storage from '@aws-amplify/storage';\nimport API from '@aws-amplify/api';\nimport { graphqlOperation } from '@aws-amplify/api-graphql';\nimport { createCategory } from '../../graphql/mutations';\nimport { createItem } from '../../graphql/mutations';\nimport { deleteItem } from '../../graphql/mutations';\nimport { updateItem } from '../../graphql/mutations';\n\nimport classes from './EditMenu.module.css';\nimport { v4 as uuid } from 'uuid';\n\nconst EditMenu = (props) => {\n    // props = [bucket, region, restaurant, restaurantSetter]\n    //const [items, setItems] = useState(null);\n\n    const [categoryAdderOpened, setCategoryAdderOpened] = useState(false);\n    const [categoryName, setCategoryName] = useState('');\n\n    const [itemAdderOpened, setItemAdderOpened] = useState(false);\n    const [itemName, setItemName] = useState('');\n    const [itemDescription, setItemDescription] = useState('');\n    const [itemIngredients, setItemIngredients] = useState('');\n    const [itemPrice, setItemPrice] = useState('');\n    const [itemImage, setItemImage] = useState(null);\n    const [itemSpecialities, setItemSpecilities] =\n         useState({vege: false, vegan: false, halal: false, featured: false, hidden: false});\n    \n    const [currentCategory, setCurrentCategory] = useState(null);\n\n    const [deleteModalOpened, setDeleteModalOpened] = useState(false);\n    const [itemToBeDeleted, setItemToBeDeleted] = useState(null);\n\n    const [itemEditorOpened, setItemEditorOpened] = useState(false);\n    const [itemToBeEditted, setItemToBeEditted] = useState(null);\n\n    const [loadingMessage, setLoadingMessage] = useState(null);\n\n    const [qrCodeViewerOpened, setQRCodeViewerOpened] = useState(false);\n\n    const qrCodeURLBase = 'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data='\n\n    console.log('rendering EditMenu')\n\n    const AddCategoryHandler = () => {\n        setCategoryAdderOpened(true)\n    }\n\n    const onAddCategoryConfirm = async() => {\n        console.log('from onAddCategoryConfirm');\n        if (categoryName === '') {\n            return\n        }\n\n        const inputData = { restaurantID: props.restaurant.id, name: categoryName }\n        try {\n            const newCategoryData = await API.graphql(graphqlOperation(createCategory, { input: inputData }))\n            const newCategory = newCategoryData.data.createCategory;\n\n            let newCategories = props.restaurant.categories.items\n            if (newCategories) {\n                console.log('current category', newCategories)\n                console.log('categories with items');\n                newCategories.push(newCategory);\n                console.log('updated category', newCategories)\n            } else {\n                console.log('categories empty');\n                newCategories = [newCategory]\n            }\n            \n            props.restaurantSetter((prevRestaurant) => {\n                let newRestaurant = prevRestaurant;\n                newRestaurant.categories.items = newCategories;\n                return newRestaurant;\n            })\n            console.log('from onAddCategoryConfirm success');\n        } catch (err) {\n            console.log('error creating category:', err);\n        }\n\n        setCategoryAdderOpened(false)\n    }\n\n    const onAddCategoryCancel = () => {\n        setCategoryAdderOpened(false)\n    }\n\n    const AddMenuHandler = () => {\n        setItemAdderOpened(true)\n    }\n\n    const onAddItemConfirm = async() => {\n        console.log('onAddItemConfirm');\n        if (itemName === '' || !itemImage || itemPrice === '') {\n            return\n        }\n\n        const extension = itemImage.name.split(\".\")[1];\n        const { type: mimeType } = itemImage;\n        const key = `${uuid()}${itemName}.${extension}`;\n        const url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n        const inputData = { categoryID: currentCategory.id,\n                            name: itemName,\n                            description: itemDescription,\n                            ingredients: itemIngredients,\n                            price: itemPrice,\n                            image: url,\n                            vegan: itemSpecialities.vegan,\n                            vege: itemSpecialities.vege,\n                            halal: itemSpecialities.halal,\n                            featured: itemSpecialities.featured,\n                            hidden: itemSpecialities.hidden,\n        }\n\n        try {\n            // s3 update\n            await Storage.put(key, itemImage, {contentType: mimeType});\n            // api update\n            const newItemData = await API.graphql(graphqlOperation(createItem, { input: inputData }))\n            console.log('from onAddItemConfirm: newItemData : ', newItemData);\n            const newItem = newItemData.data.createItem;\n\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex((obj => obj.id === currentCategory.id))\n                let updatedCategory = prevRestaurant.categories.items[categoryIndex];\n                if (!(updatedCategory.items)) {\n                    updatedCategory = { ...updatedCategory, items: {items: []}}\n                }\n                prevRestaurant.categories.items[categoryIndex] = updatedCategory;\n                prevRestaurant.categories.items[categoryIndex].items.items.push(newItem);\n                return prevRestaurant;\n            })\n\n        } catch (err) {\n            console.log('error creating items:', err);\n        }\n\n        setItemAdderOpened(false)\n        setItemName('');\n        setItemDescription('');\n        setItemIngredients('');\n        setItemImage(null);\n        setItemSpecilities({vege: false, vegan: false, halal: false, featured: false, hidden: false})\n        setCategoryAdderOpened(false)\n    }\n    \n    const onAddItemCancel = () => {\n        setItemAdderOpened(false)\n        setItemName('');\n        setItemDescription('');\n        setItemIngredients('');\n        setItemImage(null);\n        setItemSpecilities({vege: false, vegan: false, halal: false, featured: false, hidden: false})\n    }\n\n    const onDeleteButtonClicked = (item) => {\n        setDeleteModalOpened(true);\n        setItemToBeDeleted(item);\n    }\n\n    const onDeleteItemCanceled = () => {\n        setDeleteModalOpened(false);\n        setItemToBeDeleted(null);\n    }\n\n\n    const onDeleteItemConfirmed = async() => {\n        try {\n            //s3 update\n            const deletedKey = itemToBeDeleted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n            await Storage.remove(deletedKey);\n            //api update\n            const inputData = {id: itemToBeDeleted.id}\n            await API.graphql(graphqlOperation(deleteItem, { input: inputData }))\n            //restaurant update\n            await props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeDeleted.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeDeleted.id)\n                console.log('deleting item index:', itemIndex);\n                prevRestaurant.categories.items[categoryIndex].items.items.splice(itemIndex, 1);\n                return prevRestaurant;\n            })\n\n            console.log('from onItemDeleted', props.restaurant);\n        } catch(err) {\n            console.log('error deleting item', err);\n        }\n        setDeleteModalOpened(false);\n        setItemToBeDeleted(null);\n    }\n\n    const onEditItemButtonClicked = (item) => {\n        setItemEditorOpened(true);\n        setItemToBeEditted(item);\n    }\n\n    const onEditItemCanceled = () => {\n        setItemEditorOpened(false);\n        setItemToBeEditted(null);\n    }\n\n    const onEditItemConfirmed = async() => {\n        console.log('onEditItemConfirmed start')\n        try {\n            //s3 update\n            let url = itemToBeEditted.image\n            console.log('onEditItemConfirmed 1')\n            if (itemImage) {\n                //1. s3 delete\n                console.log('onEditItemConfirmed 2')\n                const deletedKey = itemToBeEditted.image.replace(`https://${props.bucket}.s3.${props.region}.amazonaws.com/public/`, '');\n                await Storage.remove(deletedKey);\n                //2. s3 upload\n                console.log('onEditItemConfirmed 3')\n                const extension = itemImage.name.split(\".\")[1];\n                const { type: mimeType } = itemImage;\n                const key = `${uuid()}${itemToBeEditted.name}.${extension}`;\n                url = `https://${props.bucket}.s3.${props.region}.amazonaws.com/public/${key}`;\n                await Storage.put(key, itemImage, {contentType: mimeType});\n            }\n            console.log('onEditItemConfirmed 4')\n            //api update\n            const inputData = { \n                                id: itemToBeEditted.id,\n                                name: itemToBeEditted.name,\n                                description: itemToBeEditted.description,\n                                ingredients: itemToBeEditted.ingredients,\n                                price: itemToBeEditted.price,\n                                image: url,\n                                vegan: itemToBeEditted.vegan,\n                                vege: itemToBeEditted.vege,\n                                halal: itemToBeEditted.halal,\n                                featured: itemToBeEditted.featured,\n                                hidden: itemToBeEditted.hidden,\n            }\n            const updatedItemData = await API.graphql(graphqlOperation(updateItem, { input: inputData }))\n            const updatedItem = updatedItemData.data.updateItem;\n            console.log('onEditItemConfirmed 5')\n            //restaurant update\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == itemToBeEditted.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === itemToBeEditted.id)\n                console.log('deleting item index:', itemIndex);\n                prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n                return prevRestaurant;\n            })\n            console.log('onEditItemConfirmed 5')\n        } catch(err) {\n            console.log('error onEditItemConfirmed:', err)\n        }\n        setItemEditorOpened(false);\n        setItemToBeEditted(null);\n    }\n\n    const onHideButtonClicked = async(item) => {\n        console.log('from onHideButtonClicked: ', item)\n        setLoadingMessage('hiding from Menu...');\n        await changeItemVisibility(item, true);\n    }\n\n    const onRevealButtonClicked = async(item) => {\n        console.log('from onRevealButtonClicked: ', item)\n        setLoadingMessage('revealing to Menu ...');\n        await changeItemVisibility(item, false);\n    }\n\n    const changeItemVisibility = async(item, hidden) => {\n        try {\n            const inputData = {\n                id: item.id,\n                hidden: hidden\n            }\n            const updatedItemData = await API.graphql(graphqlOperation(updateItem, { input: inputData }))\n            const updatedItem = updatedItemData.data.updateItem;\n            //restaurant update\n            props.restaurantSetter((prevRestaurant) => {\n                const categoryIndex = prevRestaurant.categories.items.findIndex(obj => obj.id == item.categoryID)\n                const itemIndex = prevRestaurant.categories.items[categoryIndex].items.items.findIndex(obj => obj.id === item.id)\n                prevRestaurant.categories.items[categoryIndex].items.items[itemIndex] = updatedItem;\n                return prevRestaurant;\n            })\n        } catch(err) {\n            console.log('error toggling hidden: ', err)\n        }\n        setLoadingMessage(null);\n    }\n\n    const onQRCodeRequested = () => {\n        setQRCodeViewerOpened(true);\n    }\n\n    const onQRCodeClosed = () => {\n        setQRCodeViewerOpened(false);\n    }\n\n    return (\n        <div>\n            {loadingMessage && (\n                <div>\n                    <div className={classes.backdrop}/>\n                    <div className={classes.loading}>\n                        <p>{loadingMessage}</p>\n                    </div>\n                </div>\n            )}\n            {qrCodeViewerOpened && (\n                <div>\n                    <div className={classes.backdrop} onClick={onQRCodeClosed} />\n                    <div className={classes.qrCodeContainer}>\n                        <img src={qrCodeURLBase + 'new-feature.d1ac5hakempkoy.amplifyapp.com' + props.restaurant.id}></img>\n                    </div>\n                </div>\n\n            )}\n            <div>\n                <button onClick={onQRCodeRequested}>QR Code</button>\n            </div>\n            <div className={classes.editMenu}>\n                <div>\n                    Your Menu\n                </div>\n                <div>\n                    {categoryAdderOpened && (\n                        <div>\n                            <div className={classes.backdrop} onClick={onAddCategoryCancel} />\n                            <div className={classes.editorContainer}>\n                                Category Name: <input type='text' onChange={(e) => {setCategoryName(e.target.value)}} />\n                                <button onClick={onAddCategoryConfirm}>Confirm</button>\n                                <button onClick={onAddCategoryCancel}>Cancel</button>\n                            </div>\n                        </div>\n                    )}\n                    <p>Categories</p>\n                    {\n                        (props.restaurant.categories.items) && (\n                            (props.restaurant.categories.items.length > 0) ? (\n                                props.restaurant.categories.items.map((category, index) => (\n                                    <div key={category.id ? category.id : index}>\n                                        <button onClick={() => setCurrentCategory({id: category.id, name: category.name})}>{category.name}</button>\n                                    </div>\n                                ))\n                            ) : (\n                                <p>Add Your Restaurant Menu Category!</p>\n                            )\n                        )\n                    }\n                    <button onClick={AddCategoryHandler}>+ Add</button>\n                </div>\n                {deleteModalOpened && (\n                    <div>\n                        <div className={classes.backdrop} onClick={onDeleteItemCanceled} />\n                        <div className={classes.deleteModalContainer}>\n                            <p>You Sure?</p>\n                            <button onClick={onDeleteItemConfirmed}>Confirm</button>\n                            <button onClick={onDeleteItemCanceled}>Cancel</button>\n                        </div>\n                    </div>\n                )}\n                {itemEditorOpened && (\n                    <div>\n                        <div className={classes.backdrop} onClick={onEditItemCanceled} />\n                        <div className={classes.editorContainer}>\n                            <p>Edit an Item</p>\n                            <div>Name: <input type='text' placeholder={itemToBeEditted.name} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, name: e.target.value}})}} /></div>\n                            <div>Description: <input type='text' placeholder={itemToBeEditted.description} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, description: e.target.value}})}} /></div>\n                            <div>Ingredients: <input type='text' placeholder={itemToBeEditted.ingredients} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, ingredients: e.target.value}})}} /></div>\n                            <div>Price: <input type='text' placeholder={itemToBeEditted.price} onChange={(e) => {setItemToBeEditted((prev) => {return {...prev, price: e.target.value}})}} /></div>\n                            <div>Image: <input type='file' onChange={(e) => {setItemImage(e.target.files[0])}} /></div>\n                            <div>\n                                <input type=\"checkbox\" id=\"vege\" checked={itemToBeEditted.vege} onClick={\n                                    (e) => {setItemToBeEditted((prev) => {return {...prev, vege: e.target.checked}})}\n                                    } />\n                                <label for=\"vege\">vegetarian</label>\n                            </div>\n                            <div>\n                                <input type=\"checkbox\" id=\"vegan\" checked={itemToBeEditted.vegan} onClick={\n                                    (e) => {setItemToBeEditted((prev) => {return {...prev, vegan: e.target.checked}})}\n                                    } />\n                                <label for=\"vegan\">vegan</label>\n                            </div>\n                            <div>\n                                <input type=\"checkbox\" id=\"halal\" checked={itemToBeEditted.halal} onClick={\n                                    (e) => {setItemToBeEditted((prev) => {return {...prev, halal: e.target.checked}})}\n                                    } />\n                                <label for=\"halal\">halal</label>\n                            </div>\n                            <div>\n                                <input type=\"checkbox\" id=\"featured\" checked={itemToBeEditted.featured} onClick={\n                                    (e) => {setItemToBeEditted((prev) => {return {...prev, featured: e.target.checked}})}\n                                    } />\n                                <label for=\"featured\">featured</label>\n                            </div>\n                            <button onClick={onEditItemConfirmed}>Save</button>\n                            <button onClick={onEditItemCanceled}>Cancel</button>\n                        </div>\n                    </div>\n                )}\n\n                {\n                    (currentCategory) ? (\n                        <div>\n                            <p>currentCategory: {currentCategory.name} </p>\n                            <div>\n                                <p>Items</p>\n                                <div>\n                                    {\n                                        props.restaurant.categories.items.filter((category) => {\n                                            return category.id === currentCategory.id\n                                        }).map((category, index) => {\n                                            return category.items.items.map((item, index) => {\n                                                if (!(item.hidden)) {\n                                                    return (\n                                                        <div key={item.id ? item.id : index}>\n                                                            <img src={item.image}></img>\n                                                            <p>{item.name}</p>\n                                                            <button onClick={() => onDeleteButtonClicked(item)}>delete</button>\n                                                            <button onClick={() => onEditItemButtonClicked(item)}>edit</button>\n                                                            <button onClick={async() => await onHideButtonClicked(item)}>hide from menu</button>\n                                                        </div>\n                                                    )\n                                                }\n                                            }) \n                                        })\n                                    }\n                                </div>\n                                <div>\n                                    {\n                                        props.restaurant.categories.items.filter((category) => {\n                                            return category.id === currentCategory.id\n                                        }).map((category, index) => {\n                                            return category.items.items.map((item, index) => {\n                                                if (item.hidden) {\n                                                    return (\n                                                        <div key={item.id ? item.id : index}>\n                                                            <img src={item.image}></img>\n                                                            <p>{item.name}</p>\n                                                            <button onClick={() => onDeleteButtonClicked(item)}>delete</button>\n                                                            <button onClick={() => onEditItemButtonClicked(item)}>edit</button>\n                                                            <button onClick={async() => await onRevealButtonClicked(item)}>reveal to menu</button>\n                                                        </div>\n                                                    )\n                                                }\n                                            }) \n                                        })\n                                    }\n                                </div>\n                                {itemAdderOpened && (\n                                    <div>\n                                        <div className={classes.backdrop} onClick={onAddItemCancel} />\n                                        <div className={classes.editorContainer}>\n                                            <p> Add a new Item </p>\n                                            <div>Name: <input type='text' onChange={(e) => {setItemName(e.target.value)}} /></div>\n                                            <div>Description: <input type='text' onChange={(e) => {setItemDescription(e.target.value)}} /></div>\n                                            <div>Ingredients: <input type='text' onChange={(e) => {setItemIngredients(e.target.value)}} /></div>\n                                            <div>price: $<input type='text' onChange={(e) => {setItemPrice(e.target.value)}} /></div>\n                                            <div>Image: <input type='file' onChange={(e) => {setItemImage(e.target.files[0])}} /></div>\n                                            <div>\n                                                <input type=\"checkbox\" id=\"vege\" onClick={\n                                                    (e) => {setItemSpecilities((prev) => {return {...prev, vege: e.target.checked}})}\n                                                    } />\n                                                <label for=\"vege\">vegetarian</label>\n                                            </div>\n                                            <div>\n                                                <input type=\"checkbox\" id=\"vegan\" onClick={\n                                                    (e) => {setItemSpecilities((prev) => {return {...prev, vegan: e.target.checked}})}\n                                                    } />\n                                                <label for=\"vegan\">vegan</label>\n                                            </div>\n                                            <div>\n                                                <input type=\"checkbox\" id=\"halal\" onClick={\n                                                    (e) => {setItemSpecilities((prev) => {return {...prev, halal: e.target.checked}})}\n                                                    } />\n                                                <label for=\"halal\">halal</label>\n                                            </div>\n                                            <div>\n                                                <input type=\"checkbox\" id=\"featured\" onClick={\n                                                    (e) => {setItemSpecilities((prev) => {return {...prev, featured: e.target.checked}})}\n                                                    } />\n                                                <label for=\"featured\">featured</label>\n                                            </div>\n                                            <button onClick={onAddItemConfirm}>Save</button>\n                                            <button onClick={onAddItemCancel}>Cancel</button>\n                                        </div>\n                                    </div>\n                                )}\n                                <button onClick={AddMenuHandler}>+ Add</button>\n                            </div>\n                        </div>\n                    ) : (\n                        <p>choose category</p>\n                    )\n                }\n\n                \n            </div>\n        </div>\n    );\n}\n\nexport default EditMenu;"]},"metadata":{},"sourceType":"module"}